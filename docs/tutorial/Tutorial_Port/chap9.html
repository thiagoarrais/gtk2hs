<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org">
  <meta http-equiv="CONTENT-TYPE" content=
  "text/html; charset=us-ascii">

  <title>Arrows and Tooltips</title>
</head>

<body lang="en-US" text="#000000" link="#0000FF" vlink="#840084"
bgcolor="#FFFFFF" dir="ltr">
  <table summary="links to other pages" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr>
      <th colspan="3">
        <p align="center">Gtk2Hs Tutorial</p>
      </th>
    </tr>

    <tr valign="bottom">
      <td width="10%">
        <p align="left"><a href="chap8.html">&lt;&lt;&lt;
        Previous</a></p>
      </td>

      <td width="80%">
        <p align="center"><br></p>
      </td>

      <td width="10%">
        <p align="right"><a href="chap10.html">Next
        &gt;&gt;&gt;</a></p>
      </td>
    </tr>
  </table>
  <hr>

  <h2><a name="SEC-ARROWS" id="SEC-ARROWS"></a>Arrows and
  Tooltips</h2>

  <p>The Arrow widget draws an arrowhead, facing in a number of
  possible directions and having a number of possible styles. Like
  the Label widget, it emits no signals.</p>

  <p>There are only two functions for manipulating an Arrow
  widget:</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre>
arrowNew :: ArrowType -&gt; ShadowType -&gt; IO Arrow

arrowSet :: ArrowClass self =&gt; self -&gt; ArrowType -&gt; ShadowType -&gt; IO ()
</pre>
      </td>
    </tr>
  </table>

  <p>The <i>ArrowType</i> has 5 constructors:</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre>
ArrowUp
ArrowDown
ArrowLeft
ArrowRight
ArrowNone
</pre>
      </td>
    </tr>
  </table>

  <p>The <i>ShadowType</i> also has 5 constructors:</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre>
ShadowNone
ShadowIn
ShadowOut
ShadowEtchedIn
ShadowEtchedOut
</pre>
      </td>
    </tr>
  </table>

  <p>Tooltips are the little text strings that pop up when you
  leave your pointer over a button or other widget for a few
  seconds.</p>

  <p>Widgets that do not receive events (widgets that do not have
  their own window) will not work with tooltips.</p>

  <p>The first call you will use creates a new tooltip. You only
  need to do this once for a set of tooltips.</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre>
tooltipsNew :: IO Tooltips
</pre>
      </td>
    </tr>
  </table>

  <p>Then, for every widget, use:</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre>
tooltipsSetTip :: (TooltipsClass self, WidgetClass widget) 
=&gt; self -&gt; widget -&gt; String -&gt; String -&gt; IO ()
</pre>
      </td>
    </tr>
  </table>

  <p>The first argument is the tooltip you've already created,
  followed by the widget you wish to have this tooltip pop up for,
  and the text you wish it to say. The last argument is a text
  string that can be used as an identifier.</p>

  <p>You can turn the tips associated with a <i>Tooltips</i> value
  on or off using:</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="2" bgcolor="#E0E0E0">
    <tr>
      <td>
        <pre style="margin-bottom: 0.5cm">
tooltipsEnable :: TooltipsClass self =&gt; self -&gt; IO ()
tooltipsDisable :: TooltipsClass self =&gt; self -&gt; IO ()
</pre>
      </td>
    </tr>
  </table>

  <p>Here's an example to illustrate the use of arrows and
  tooltips.</p>

  <p><br>
  <img src="./Images/GtkChap9.png" align="bottom" alt=
  "GtkChap9"><br></p>

  <p>The window above has been resized from its default size, to
  show how the packing in a table preserves the spacing of the
  buttons with their arrows.</p>

  <p>Note: the tooltips don't work with GHCi (on my machine) but
  they do when compiled. You cannot see them in the screenshot, of
  course.</p>

  <table summary="Haskell code" width="100%" border="0"
  cellpadding="2" cellspacing="0" bgcolor="#E0E0E0">
    <col width="256*">

    <tr>
      <td width="100%">
        <pre>
import Graphics.UI.Gtk

main :: IO ()
main = do
     initGUI
     window &lt;- windowNew
     set window [windowTitle := "Arrow Tips", 
                 windowDefaultWidth := 200,
                 windowDefaultHeight := 200, containerBorderWidth := 20 ]

     table &lt;- tableNew 5 5 True
     containerAdd window table
     
     button1 &lt;- buttonNew
     button2 &lt;- buttonNew
     button3 &lt;- buttonNew
     button4 &lt;- buttonNew

     tableAttachDefaults table button1 0 1 2 3
     tableAttachDefaults table button2 2 3 0 1
     tableAttachDefaults table button3 4 5 2 3
     tableAttachDefaults table button4 2 3 4 5

     tlt &lt;- tooltipsNew

     arrow1 &lt;- arrowNew ArrowLeft ShadowEtchedIn 
     containerAdd button1 arrow1
     tooltipsSetTip tlt button1 "West" "T1"

     arrow2 &lt;- arrowNew ArrowUp ShadowEtchedOut
     containerAdd button2 arrow2
     tooltipsSetTip tlt button2 "North" "T2"

     arrow3 &lt;- arrowNew ArrowRight ShadowEtchedIn
     containerAdd button3 arrow3
     tooltipsSetTip tlt button3 "East" "T3"

     arrow4 &lt;- arrowNew ArrowDown ShadowEtchedOut
     containerAdd button4 arrow4
     tooltipsSetTip tlt button4 "South" "T4"

     tooltipsEnable tlt
     widgetShowAll window
     onDestroy window mainQuit
     mainGUI
</pre>
      </td>
    </tr>
  </table>
  <hr>

  <table summary="links to other pages" width="100%" border="0"
  cellpadding="0" cellspacing="0">
    <tr valign="top">
      <td width="33%">
        <p align="left"><a href="chap8.html">&lt;&lt;&lt;
        Previous</a></p>
      </td>

      <td width="34%">
        <p align="center"><a href="chap1.html">Home</a></p>
      </td>

      <td width="33%">
        <p align="right"><a href="chap10.html">Next
        &gt;&gt;&gt;</a></p>
      </td>
    </tr>

    <tr valign="top">
      <td width="33%">
        <p align="left">Labels</p>
      </td>

      <td width="34%">
        <p align="center"><br></p>
      </td>

      <td width="33%">
        <p align="right">Dialogs, Stock Items Progress Bars</p>
      </td>
    </tr>
  </table>

  <p><br>
  <br></p>
</body>
</html>
