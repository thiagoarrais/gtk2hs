2003-01-11  Jens Petersen  <petersen@haskell.org>

	* gtk/treeList/TreeStore.chs (treeStoreRemove): lift to Bool

	* gtk/treeList/ListStore.chs (listStoreRemove): lift to Bool

	* gtk/general/Structs.hsc (fromResponse): parenthesize
	ResponseUser i and add fromIntegral on rhs
	(toResponse): add fromIntegral for ResponseUser

	* demo/graphic/Drawing.hs (main): use ResponseOk

2003-01-10  Jens Petersen  <petersen@haskell.org>

	* configure.in: add gtk2hs.spec to output list

	* gtk2hs.spec.in: new file to generate a project rpm spec file

2003-01-10  Jens Petersen  <petersen@haskell.org>

	* demo/unicode/Arabic.hs (main): use ResponseYes, ResponseCancel
	and ResponseOk

	* gtk/windows/Dialog.chs: import and re-export ResponseId instead
	of responseName's.  import fromResponse and toResponse.
	(dialogRun): use toResponse
	(dialogResponse): use fromResponse
	(dialogAddButton): use fromResponse
	(dialogAddActionWidget): use fromResponse
	(dialogSetDefaultResponse): fromResponse
	(dialogSetResponseSensitive): fromResponse
	(onResponse, afterResponse): toResponse

	* gtk/general/Structs.hsc: export fromResponse and toResponse,
	instead of all the responseName's.  ResponseId is now a datatype.
	fromResponse converts from a ResponseId to the corresponding gtk
	constant values.  toResponse does the reverse map.  ResponseUser
	Int carries positive integer user defined responses.  fromResponse
	and toResponse are only defined for positive integers.

2002-12-19 Axel Simon <A.Simon@ukc.ac.uk>

	* VERSION, INSTALL: bump version, tweak instructions

	* doc/Makefile: create the subdirectories before copying

	* Makefile: make all also builds documentation, use proper names
	for the reference pages

	* gendoc/XMLwrite.hs: insert the name of the current node into
	each reference page.

	* gtk/menuComboToolbar/MenuBar.chs, gtk/abstract/Paned.chs: Docu
	fix, gave the widgets propper names.
	
2002-12-16 Axel Simon <A.Simon@ukc.ac.uk>

	* gendoc/PrettyLib.hs: convert from PackedString to normal String

	* gendoc/Update.hs, gendoc/XMLwrite.hs: add hyperlinks between
	from synopsis and tried to link arguments to types.
	
	* doc/Makefile doc/gtk2hs.xml doc/mogul.xml: Added documentation.

	* gtk/treeList/TreeModel.chs: Added two functions and export the
	function gtk_tree_model_get_iter_from_string for
	CellRendererText.chs

	* gtk/treeList/CellRendererText.chs: use the bare function from
	TreeModel.chs to avoid converting the C string to Haskell and
	back.
	
	* configure.in: Changed the test for c2hs, so that it can cope with:
	"0.10.17 [compiled for GHC 5.04]", urk.

	* mk/comon.mk: repaired building with external c2hs, specifically,
	the -o : option is not understood by normal c2hs.

	* gtk/Makefile: added the -HEADER definition for all the files
	which where added since the last time someone compiled with
	external c2hs (most notably Region.chs, where the build falls
	over).
	
2002-12-10 Axel Simon <A.Simon@ukc.ac.uk>
	
	* mk/config.mk.in, mk/library.mk: Separated out targets for
	installing packages and files. This is an attempt to simplify the
	creation of RPMs and Debian packages. Removed interactiveInstall
	for now since ghci still does not work with -package gtk2 or
	-package mogul.

2002-12-04 Axel Simon <A.Simon@ukc.ac.uk>

	* mk/library.mk: update the time of the copied library file so
	that it compiles on Darwin
	
2002-12-03 Axel Simon <A.Simon@ukc.ac.uk>

	* config.guess, config.sub: updated from GNU website

	* gtk/treelist/TreeModelSort.chs, gtk/gdk/DrawWindow.hs:
	  added, should have been there before!
	
2002-12-01 Axel Simon <A.Simon@ukc.ac.uk>

	* demo/graphic/Drawing.hs demo/hello/World.hs
	demo/treeList/ListTest.hs demo/unicode/Arabic.hs
	gtk/general/General.chs gtk/treeList/ListStore.chs
	mogul/WidgetTable.hs: Changed the initialization and the main loop
	function again.
	
2002-11-08 Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/menuComboToolbar/Menu.chs gtk/treeList/ListStore.chs
	gtk/treeList/TreeModel.chs: Documentation changes.

2002-11-11 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/general/General.chs: Changed the initialization and main
	loop functions. They now have names which do not clash with the
	Prelude.

	* Makefile: Include the two demos "graphics" and "treeList".

	* demo/graphic/Drawing.hs demo/hello/World.hs
	demo/treeList/ListTest.hs demo/unicode/Arabic.hs: Reflect the
	change to the main loop functions.
	
2002-11-08 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/Abstract.hs gendoc/Driver.hs gendoc/Lexer.hs
	gendoc/Parser.hs gendoc/State.hs gendoc/Update.hs
	gendoc/XMLwrite.hs gtk/abstract/Box.chs gtk/abstract/Range.chs
	gtk/abstract/Widget.chs gtk/buttons/Button.chs
	gtk/display/Label.chs gtk/entry/Entry.chs gtk/gdk/Drawable.chs
	gtk/gdk/Events.hsc gtk/gdk/GC.chs gtk/general/General.chs
	gtk/general/Gtk.hs gtk/general/IconFactory.chs
	gtk/general/Structs.hsc gtk/layout/Layout.chs
	gtk/menuComboToolbar/CheckMenuItem.chs
	gtk/menuComboToolbar/ImageMenuItem.chs
	gtk/menuComboToolbar/Toolbar.chs gtk/misc/DrawingArea.chs
	gtk/misc/HandleBox.chs gtk/misc/Viewport.chs
	gtk/multiline/TextBuffer.chs gtk/multiline/TextIter.chs
	gtk/multiline/TextView.chs gtk/pango/Markup.hs
	gtk/scrolling/ScrolledWindow.chs gtk/windows/Window.chs: More
	documentation fixes.

	* gtk/signals/gtkmarshal.list gtk/treeList/CellRenderer.hs
	gtk/treeList/CellRendererPixbuf.chs
	gtk/treeList/CellRendererText.chs
	gtk/treeList/CellRendererToggle.chs gtk/treeList/TreeModel.chs
	gtk/treeList/TreeView.chs gtk/treeList/TreeViewColumn.chs
	mogul/Mogul.hs mogul/TreeList.hs: Changed the internals of
	Attributes in CellRenderer. This now allows to set Just
	<something> for e.g. a color or the editable flag (for which both
	"editable" and "editable-set" have to be modified). Added the
	onEdited signal.
	
2002-11-04 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/multiline/TextView.chs, general/Enums.chs, general/Gtk.hs:
	Completed TextView as far as possible.

	* gendoc/ XMLwrite.hs Abstract.hs Lexer.hs Parser.hs PrettyLib.hs:
	Switched to Olaf's Pretty Printing library. GHC's library seems to
	be broken (combinators are not associative). The right combinators
	still seem to be lacking.

	* general/Structs.hsc glib/GList.chs glib/GObject.chs
	glib/GType.chs glib/GValue.chs glib/GValueTypes.chs
	menuComboToolbar/Menu.chs misc/DrawingArea.chs misc/HandleBox.chs
	multiline/TextIter.chs typehier/TypeGenerator.hs
	windows/Dialog.chs: documentation fixes

	* mk/library.mk: i
	
2002-10-21  Jens Petersen  <petersen@haskell.org>

	* mogul/NewWidget.hs (newLayout): Take Maybe Adjustment's.

	* gtk/layout/Layout.chs: Import fromMaybe and nullForeignPtr.
	(layoutNew): Use them for Maybe Adjustment arguments.

	* gtk/abstract/Widget.chs (onGrabFocus, afterGrabFocus):
	Fix to use connect_NONE__NONE, since "grab_focus" event handler
	is just IO ().

2002-10-20 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/Abstract.hs XMLwrite.hs gtk2hs.xml: This version uses the
	unmodified version of Docbook. I'm still haveing trouble with the
	pretty-printer library (and with Docbook itself, of course).
	
2002-10-19 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/ Abstract.hs Driver.hs Lexer.hs Parser.hs State.hs
	Update.hs XMLwrite.hs gtk2hs.xml: Machinery to generate
	documentation from the comments in the binding. I just decided to
	use the original Docbook without any Haskell specific
	additions. So this first version tries to define and use a
	modified version of Docbook.
	
2002-10-06 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/multiline/TextView.chs: Completed functionality and added
	all signals.

	* gtk/abstract/Container.chs gtk/display/Image.chs
	gtk/general/Gtk.hs gtk/general/Structs.hsc gtk/misc/Tooltips.chs
	gtk/multiline/TextBuffer.chs gtk/multiline/TextIter.chs
	gtk/multiline/TextView.chs gtk/treeList/TreeView.chs
	gtk/typehier/TypeGenerator.hs gtk/typehier/hierarchy.list 

	Added Files: gtk/gdk/Drawable.chs gtk/gdk/GC.chs gtk/gdk/Keys.chs

	Removed Files: gtk/gdk/GdkDrawable.chs gtk/gdk/GdkGC.chs
	gtk/gdk/GdkKeys.chs: Get rid of any Gdk prefix in types and module
	names.

2002-10-01 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/gdk/GdkEnums.chs, gtk/general/Gtk.hs,
	gtk/general/Structs.hsc, gtk/Makefile, gtk/gdk/GdkGC.chs,
	gtk/gdk/GdkDrawable.chs,gtk/gdk/Region.chs,
	gtk/general/Structs.hsc, gtk/typehier/hierarchy.list,
	gtk/misc/DrawingArea.chs: Added the capabilities to do user
	specified widgets.

	* demo/graphic/Drawing.hs demo/graphic/Makefile Makefile: Added a
	demonstration of how to use the DrawingArea widget.
	
2002-08-20  Jonas Svensson <d99josve@dtek.chalmers.se>

        * gtk/abstract/Widget.chs: Added widgetSetSizeRequest function.

2002-08-15  Jonas Svensson <d99josve@dtek.chalmers.se>

        * gtk/menuComboToolbar/ImageMenuItem.chs: Changed type from
        Image to Widget on get/setImage functions. Changed getImage
        to return IO (Maybe Widget).

2002-08-13  Axel Simon <A.Simon@ukc.ac.uk> on behalf of 
	    Jonas Svensson <d99josve@dtek.chalmers.se>
	
        * gtk/Makefile: Added ImageMenuItem to list of moduels

        * gtk/typehier/hierarchy.list: Added GtkImageMenuItem
 
        * gtk/general/Gtk.hs: Now imports and exports ImageMenuItem

        * gtk/menuComboToolbar/ImageMenuItem.chs: Implementation of
          the GtkImageMenuItem widget.
	
2002-08-12  Axel Simon <A.Simon@ukc.ac.uk>
	* gtk/multiline/TextView.chs: Added SetEditable, GetEditable,
	SetCursorVisible, GetCursorVisible which was a patch from Jonas
	Svensson <d99josve@dtek.chalmers.se>

2002-08-05  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/Makefile, mk/library.mk, mk/common.mk: Smaller fixed for the
	broken ghc-pkg of ghc version 5.04. ghci still doesn't work.

	* most .chs files in gtk/: Slight changes of documentation to make
	the documentation tools work (the latter are not yet in CVS).
	
2002-08-02  Jens Petersen <petersen@haskell.org>

	* gtk/windows/FileSel.chs: Re-export fileSelectionGetButtons.

	* gtk/general/Structs.hsc(fileSelectionGetButtons):  
	Like fileSelectionQueryButtons in gtk+hs.  Export it.

2002-07-23  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/treeList/TreeSelection.chs: Added the "changed"
	signal. Realized that there are many other modules without
	signals.

	* gtk/treeList/TreeView.chs(treeViewGetSelection),
	gtk/typehier/hierarchy.list: TreeSelection is only a GObject, so
	generate it with makeNewGObject.

2002-07-21  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/Makefile, mogul/Makefile, gtk/general/UTFCForeign.hs: Make
	the library compile with GHC 5.04 which introduces hierarchical
	modules.
	
	* gtk/general/General.chs(setLocale): remove

	* demo/unicode/Arabic.hs: remove setLocale
	
	* modul/WidgetTable.hs: Change the dependency on FiniteMap to a
	newly introduced impedance matcher module compat/LocalData.hs.
	
	* treeList/TreeSelection.chs, gdk/GdkKeys.chs, general/Stock.hsc,
	general/General.chs, signal/Signal.chs-boot2, gdk/Events.hsc,
	gdk/GdkEnums.hs, glib/GObject.hs, modul/WidgetTable.hs,
	mogule/TreeList.hs: Changed the dependency on IOExts to a newly
	introduced impedance matcher module compat/LocalData.hs.

	* treeList/StoreValue.hs: Changed the dependency on Exception to a
	newly introduced impedance matcher module compat/LocalControl.hs.

	* multiline/TextMark.chs, multiline/TextIter.chs,
	multiline/TextTag.chs, multiline/TextTagTable.chs,
	multiline/TextView.chs, gdk/GdkKeys.chs, gdk/Events.hsc,
	gtk/typehier/TypeGenerator.hs: Changed CForeign to UTFCForeign.

	* gtk/glib/GList.chs: remove CForeign import
	
	* configure.in: Corrected the search path when searching for a
	ghc-pkg which is not in the PATH. Remove all non-existant paths
	from GTK_CFLAGS and from GTK_LIBS.

	* mk/chsDepend.in: Removed the dependency .dep <- .chs to avoid
	that automatic generated .chs files are built when doing a "make
	distclean".

	* gtk/Makefile: Changed the dependency on "lang" to "base" for GHC
	versions with hierarchical module system.

	* window/FileSel.chs: Changed chi import to normal Haskell import.

	* mk/common.mk: "inplaceinit" is no longer prerequisite for "all"

	* mk/library.mk: "noinplace" is no longer prerequisite for
	"installcheck"

2002-07-19  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/windows/Window.chs: added deprecated windowSetPolicy method
	and found out that windowGetResizable and windowSetResizable were
	missing, so I added them as well.

	* mogul/TreeList.hs: fixed a bug in treeSkelAddAttribute

2002-07-18  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/treeList/CellRendererText.chs: changed the attribute types
	of foreground and background colors to Maybe String.

	* gtk/glib/GValue.chs: Changed the String member of the GValue
	union to Maybe String.

	* gtk/glib/GValueTypes.chs: Reflect the change in GValue when
	marshalling strings.

	* gtk/Makefile: TreeView needs TreeViewColumn.chi, so I added
	TreeViewColumn to the needed chi-files.

	* demo/treeList/ListTest.hs: Cell colors are now of type Maybe
	String. Remove the comments from the writeStore function.
	
2002-07-18  Jens Petersen <petersen@haskell.org>

	* gtk/gdk/GdkKeys.chs: Bind keyvalName and keyvalFromName.

	* gtk/windows/FileSel.chs: Binding based on file from gtk+hs.
	fileSelectionQueryButtons needs to be fixed for this to be useful.

	* mogul/TreeList.hs: Fix a couple of doc typos.

	* mogul/NewWidget.hs (newNamedScrolledWindow): Maybe take an 
	Adjustment.
	(newScrolledWindow): Ditto.

	* gtk/treeList/TreeViewColumn.chs (treeViewColumnNewWithAttributes): 
	Haskell implementation to avoid binding to original variad function.
	(treeViewColumnAddAttributes): New convenience function.
	(treeViewColumnSetAttributes): Haskell implementation to avoid
	binding to original variad function.
	(treeViewColumnClearAttributes): Add binding.

	* gtk/treeList/TreeView.chs (treeViewInsertColumnWithAttributes):
	Haskell implementation to avoid binding to original variad function.

	* gtk/scrolling/ScrolledWindow.chs (scrolledWindowNew): Make it
	maybe take Adjustments, passing a null ptr when Nothing is given.

	* gtk/general/Gtk.hs: Import and re-export GdkKeys and FileSel.

	* gtk/general/General.chs: Export timeoutAdd, timeoutRemove, idleAdd, 
	idleRemove and HandlerId.

	* gtk/entry/Entry.chs: Bind entryGetText.

	* gtk/Makefile: Add header vars for GdkKeys and FileSel.

2002-07-17 Jens Petersen <petersen@haskell.org>

	* Added .cvsignore files to most of the directories in the tree
	to give cleaner cvs updates from a build tree.

2002-07-08 Axel Simon <as49@ukc.ac.uk>

        * Reinstantiated the TreeList.hs module in mogul/. Made up a new
        concept to make the TreeView widget easier to use. To create a
	TreeStore or ListStore object, the user now has to create a
	skeleton that holds different attributes. The skeleton can then
	be converted into a ListStore or TreeStore. This takes care of
	the fact that columns cannot be added to the store objects on
	the fly.

2002-06-22 Axel Simon <as49@ukc.ac.uk>

	* Changed the configure script to more reliably find GNU versions
	of sed and grep. Improved the build system which now correctly
	manages dependencies between .chs file. Changed the calling
	convention of the functions such that the object is the first
	argument as in gtk+hs. Prepared for generating automatic
	documentation.

2002-04-16 Axel Simon <as49@ukc.ac.uk>

	* Created the "dist" goal to tar a source distribution. Introduced
	a VERSION file.

2002-04-14 Axel Simon <as49@ukc.ac.uk>

	* Incooperated c2hs version 0.10.12 into the source tree. Omitted
	  the lib/ directory. For the latter I had to change C2HSConfig.hs.in
	  to import "toBool" from MarshalUtils. The sources are otherwise
	  unchanged.

	* HookGenerator.hs: Added test for SPARC architecture. GHC is unable
	  to generate dynamic callbacks with more than 4 word worth of
	  arguments. By replacing all connectTo... functions which take more
	  than 3 arguments (real args and the GtkObject) with error stubs
	  this is only a temporary solution.
