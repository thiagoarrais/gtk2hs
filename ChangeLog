2005-01-13 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/Graphics/UI/Gtk/Pango/Enums.chs.pp: fix whitespace problem that
	caused compile failure.

	* configure.ac, Makefile.am, mk/common.mk: Do detection of haddock and
	add --enable-docs to configure. First hash at building haddock docs -
	gtk package only so far. Also move some defines from Makefile.am to
	configure.ac as requested by a FIXME comment.

2005-01-12 Axel Simon <A.Simon@kent.ac.uk>

	* Makefile.am, gtk/Graphics/UI/Gtk/Pango/Rendering.chs.pp,
	gtk/Graphics/UI/Gtk/Pango/Enums.chs.pp: Renames both files from
	.chs to .chs.pp and changed the Makefile accordingly. Preprocessing
	is now necessary to accommodate the lack of some enum names in
	Gtk 2.2.

	* tools/hierarchyGen/hierarchy.list: Only create the FileChooser
	interface object when building for Gtk 2.4 or higher.

2005-01-12 Duncan Coutts <duncan@coutts.uklinux.net>

	* demo/hello/World.hs: update to work with the new module names.

	* demo/hello/Makefile: a simple makefile. The old makefile relied on
	the old build system. This makefile will not build in-place it
	requires everything to be installed.

	* tools/apiGen/ApiGen.hs, tools/apiGen/format-docs.xsl,
	tools/apiGen/gen-all.sh, tools/apiGen/Template.chs: add support for
	documentation of function arguments. It's mostly and improvement I
	think though it does add a lot of extra stuff to the final
	documentation. On the other hand the gtk documentation for functions
	often refer to argument names so the generated haddoc docs make more
	sense now.

2005-01-11 Duncan Coutts <duncan@coutts.uklinux.net>

	* glib/glib.pkg.in, gtk/gtk.pkg.in, mogul/mogul.pkg.in,
	glade/glade.pkg.in, gconf/gconf.pkg.in, sourceview/sourceview.pkg.in,
	mozembed/mozembed.pkg.in: correct import_dirs. Each module has its own
	directory under the hi difrectory. Also, since all packages now use
	the hierachrical module namespace we can install all packages as 'Auto'
	packages which means that users do not have to specify -package to ghc
	most of the time.

	* Makefile.am: correct the install location for glib package's .hi
	files. Correct a linker error caused by a missing _stub.o file.
	Everything should install correctly now and the demos should build ok.

	* gtk/Graphics/UI/Gtk/Pango/Description.chs, gtk/Graphics/UI/Gtk.hs:
	tiny haddock markup fixes.

2005-01-10 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/apiGen/format-docs.xsl: nicer code and more comprehensively
	deal with various sorts of paragrahps, lists, sections and examples.

	* tools/apiGen/ApiGen.hs: deal with more complicated formatting,
	definition lists, itemised lists, subsections, inline and titled
	program listing examples.

	* tools/apiGen/gen-all.sh: now works with the latest version of gtk

	* tools/apiGen/Template.chs: import System.Glib.FFI rather than
	Foreign, also a couple cosmetic improvements.

	* tools/apicoverage/Makefile: update regexps to match the output of
	current versions of c2hs. The apicoverage tool should now be accurate.

2005-01-09 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/apiGen/format-docs.xsl: fix generation of function version
	numbers when they have no version given.

	* tools/apiGen/ApiGen.hs: Fix for when no functions are defined in the
	documentation file. Also, take the c2hs context prefix and lib values
	from the api file be default.

2005-01-08 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/Graphics/UI/Gtk.hs: commit the grand hierarchical namespace
	conversion. If it all goes wrong, revert back to the tag
	'pre-hierarchical-names-conversion'.

	* gtk/Graphics/UI/Gtk/Abstract/Bin.chs,
	gtk/Graphics/UI/Gtk/Abstract/Box.chs,
	gtk/Graphics/UI/Gtk/Abstract/ButtonBox.chs.pp,
	gtk/Graphics/UI/Gtk/Abstract/Container.chs,
	gtk/Graphics/UI/Gtk/Abstract/Misc.chs,
	gtk/Graphics/UI/Gtk/Abstract/Object.chs.pp,
	gtk/Graphics/UI/Gtk/Abstract/Paned.chs.pp,
	gtk/Graphics/UI/Gtk/Abstract/Range.chs,
	gtk/Graphics/UI/Gtk/Abstract/Scale.chs,
	gtk/Graphics/UI/Gtk/Abstract/Scrollbar.hs,
	gtk/Graphics/UI/Gtk/Abstract/Separator.hs,
	gtk/Graphics/UI/Gtk/Abstract/Widget.chs: add abstract category

	* gtk/Graphics/UI/Gtk/Buttons/Button.chs.pp,
	gtk/Graphics/UI/Gtk/Buttons/CheckButton.chs,
	gtk/Graphics/UI/Gtk/Buttons/RadioButton.chs,
	gtk/Graphics/UI/Gtk/Buttons/ToggleButton.chs: button category
	
	* gtk/Graphics/UI/Gtk/Display/AccelLabel.chs,
	gtk/Graphics/UI/Gtk/Display/Image.chs,
	gtk/Graphics/UI/Gtk/Display/Label.chs,
	gtk/Graphics/UI/Gtk/Display/ProgressBar.chs,
	gtk/Graphics/UI/Gtk/Display/Statusbar.chs: display category

	* gtk/Graphics/UI/Gtk/Embedding/Embedding.hsc,
	gtk/Graphics/UI/Gtk/Embedding/Plug.chs,
	gtk/Graphics/UI/Gtk/Embedding/Socket.chs: embedding category

	* gtk/Graphics/UI/Gtk/Entry/Editable.chs.pp,
	gtk/Graphics/UI/Gtk/Entry/Entry.chs.pp,
	gtk/Graphics/UI/Gtk/Entry/EntryCompletion.chs.pp,
	gtk/Graphics/UI/Gtk/Entry/HScale.chs,
	gtk/Graphics/UI/Gtk/Entry/SpinButton.chs,
	gtk/Graphics/UI/Gtk/Entry/VScale.chs: entry category

	* gtk/Graphics/UI/Gtk/Gdk/DrawWindow.hs,
	gtk/Graphics/UI/Gtk/Gdk/Drawable.chs.pp,
	gtk/Graphics/UI/Gtk/Gdk/Enums.chs,
	gtk/Graphics/UI/Gtk/Gdk/Events.hsc,
	gtk/Graphics/UI/Gtk/Gdk/GC.chs,
	gtk/Graphics/UI/Gtk/Gdk/Gdk.chs,
	gtk/Graphics/UI/Gtk/Gdk/Keys.chs,
	gtk/Graphics/UI/Gtk/Gdk/Pixbuf.chs,
	gtk/Graphics/UI/Gtk/Gdk/Region.chs.pp: gdk category

	* gtk/Graphics/UI/Gtk/General/Enums.chs.pp,
	gtk/Graphics/UI/Gtk/General/General.chs,
	gtk/Graphics/UI/Gtk/General/IconFactory.chs.pp,
	gtk/Graphics/UI/Gtk/General/StockItems.hsc,
	gtk/Graphics/UI/Gtk/General/Structs.hsc,
	gtk/Graphics/UI/Gtk/General/Style.chs: general category

	* gtk/Graphics/UI/Gtk/Layout/Alignment.chs.pp,
	gtk/Graphics/UI/Gtk/Layout/AspectFrame.chs,
	gtk/Graphics/UI/Gtk/Layout/Expander.chs.pp,
	gtk/Graphics/UI/Gtk/Layout/Fixed.chs,
	gtk/Graphics/UI/Gtk/Layout/HBox.chs,
	gtk/Graphics/UI/Gtk/Layout/HButtonBox.chs,
	gtk/Graphics/UI/Gtk/Layout/HPaned.chs,
	gtk/Graphics/UI/Gtk/Layout/Layout.chs,
	gtk/Graphics/UI/Gtk/Layout/Notebook.chs.pp,
	gtk/Graphics/UI/Gtk/Layout/Table.chs,
	gtk/Graphics/UI/Gtk/Layout/VBox.chs,
	gtk/Graphics/UI/Gtk/Layout/VButtonBox.chs,
	gtk/Graphics/UI/Gtk/Layout/VPaned.chs: layout category

	* gtk/Graphics/UI/Gtk/MenuComboToolbar/CheckMenuItem.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/Combo.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/ComboBox.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/ComboBoxEntry.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/ImageMenuItem.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/Menu.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/MenuBar.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/MenuItem.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/MenuShell.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/OptionMenu.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/RadioMenuItem.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/TearoffMenuItem.chs,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/ToolItem.chs.pp,
	gtk/Graphics/UI/Gtk/MenuComboToolbar/Toolbar.chs.pp: menu combo
	toolbar	category

	* gtk/Graphics/UI/Gtk/Misc/Adjustment.chs,
	gtk/Graphics/UI/Gtk/Misc/Calendar.chs.pp,
	gtk/Graphics/UI/Gtk/Misc/DrawingArea.chs,
	gtk/Graphics/UI/Gtk/Misc/EventBox.chs.pp,
	gtk/Graphics/UI/Gtk/Misc/GArrow.chs,
	gtk/Graphics/UI/Gtk/Misc/HandleBox.chs,
	gtk/Graphics/UI/Gtk/Misc/SizeGroup.chs,
	gtk/Graphics/UI/Gtk/Misc/Tooltips.chs.pp,
	gtk/Graphics/UI/Gtk/Misc/Viewport.chs: misc category

	* gtk/Graphics/UI/Gtk/Multiline/TextBuffer.chs,
	gtk/Graphics/UI/Gtk/Multiline/TextIter.chs.pp,
	gtk/Graphics/UI/Gtk/Multiline/TextMark.chs,
	gtk/Graphics/UI/Gtk/Multiline/TextTag.chs.pp,
	gtk/Graphics/UI/Gtk/Multiline/TextTagTable.chs,
	gtk/Graphics/UI/Gtk/Multiline/TextView.chs: multiline category
	
	* gtk/Graphics/UI/Gtk/Ornaments/Frame.chs,
	gtk/Graphics/UI/Gtk/Ornaments/HSeparator.chs,
	gtk/Graphics/UI/Gtk/Ornaments/VSeparator.chs: ornaments category
	
	* gtk/Graphics/UI/Gtk/Pango/Description.chs,
	gtk/Graphics/UI/Gtk/Pango/Enums.chs,
	gtk/Graphics/UI/Gtk/Pango/Layout.chs,
	gtk/Graphics/UI/Gtk/Pango/Markup.hs,
	gtk/Graphics/UI/Gtk/Pango/Rendering.chs,
	gtk/Graphics/UI/Gtk/Pango/Types.chs.pp: pango category
	
	* gtk/Graphics/UI/Gtk/Scrolling/HScrollbar.chs,
	gtk/Graphics/UI/Gtk/Scrolling/ScrolledWindow.chs,
	gtk/Graphics/UI/Gtk/Scrolling/VScrollbar.chs: scrolling category
	
	* gtk/Graphics/UI/Gtk/Selectors/ColorSelection.chs,
	gtk/Graphics/UI/Gtk/Selectors/ColorSelectionDialog.chs,
	gtk/Graphics/UI/Gtk/Selectors/FileChooser.chs.pp,
	gtk/Graphics/UI/Gtk/Selectors/FileChooserDialog.chs.pp,
	gtk/Graphics/UI/Gtk/Selectors/FileChooserWidget.chs.pp,
	gtk/Graphics/UI/Gtk/Selectors/FontSelection.chs,
	gtk/Graphics/UI/Gtk/Selectors/FontSelectionDialog.chs: selectors
	
	* gtk/Graphics/UI/Gtk/TreeList/CellRenderer.hs,
	gtk/Graphics/UI/Gtk/TreeList/CellRendererPixbuf.chs,
	gtk/Graphics/UI/Gtk/TreeList/CellRendererText.chs,
	gtk/Graphics/UI/Gtk/TreeList/CellRendererToggle.chs,
	gtk/Graphics/UI/Gtk/TreeList/ListStore.chs.pp,
	gtk/Graphics/UI/Gtk/TreeList/TreeModel.chs.pp,
	gtk/Graphics/UI/Gtk/TreeList/TreeModelSort.chs,
	gtk/Graphics/UI/Gtk/TreeList/TreeSelection.chs,
	gtk/Graphics/UI/Gtk/TreeList/TreeStore.chs.pp,
	gtk/Graphics/UI/Gtk/TreeList/TreeView.chs.pp,
	gtk/Graphics/UI/Gtk/TreeList/TreeViewColumn.chs: tree list selectors
	
	* gtk/Graphics/UI/Gtk/Windows/Dialog.chs,
	gtk/Graphics/UI/Gtk/Windows/FileSel.chs,
	gtk/Graphics/UI/Gtk/Windows/Window.chs.pp: windows selectors

	* glade/Graphics/UI/Gtk/Glade.chs: glade package hierarchical
	namespace conversion.

	* sourceview/Graphics/UI/Gtk/SourceView/SourceBuffer.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceIter.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceIter.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceLanguage.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceLanguagesManager.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceMarker.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceStyleScheme.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceTag.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceTagStyle.hsc
	sourceview/Graphics/UI/Gtk/SourceView/SourceTagTable.chs
	sourceview/Graphics/UI/Gtk/SourceView/SourceView.chs
	sourceview/Graphics/UI/Gtk/SourceView.hs: sourceview package
	hierarchical namespace conversion.

	* mozembed/Graphics/UI/Gtk/MozEmbed.chs: fixup names of imported
	modules.

	* mogul/Graphics/UI/Gtk/Mogul/GetWidget.hs,
	mogul/Graphics/UI/Gtk/Mogul/MDialog.hs,
	mogul/Graphics/UI/Gtk/Mogul/NewWidget.hs,
	mogul/Graphics/UI/Gtk/Mogul/TreeList.hs,
	mogul/Graphics/UI/Gtk/Mogul/WidgetTable.hs,
	mogul/Graphics/UI/Gtk/Mogul.hs: mogul package namespace conversion.

	* gconf/System/Gnome/GConf/GConfValue.chs,
	gconf/System/Gnome/GConf/GConfClient.chs: fixup names of imported
	modules.

	* tools/hierarchyGen/TypeGen.hs: Do not generate top of hierarchy, ie
	GObject. Let it be imported instead. This allows it to me moved to the
	glib package.
	
	* tools/hierarchyGen/Hierarchy.chs.template: fixup names of imported
	modules. Also castToGObject will be imported so need not be defined
	locally.

	* tools/callbackGen/Signal.chs-boot1,
	tools/callbackGen/Signal.chs-boot2: fix module name and imports.

	* mk/common.mk: bludgeon automake into submission. Stop it from
	falsely detecting clashes between source modules producing the same
	object file. Also --include the module header for .hsc files.

	* glib/glib.pkg.in, glib/System/Glib.hs, glib/System/Glib/FFI.hs,
	glib/System/Glib/GError.chs.pp, glib/System/Glib/GList.chs
	glib/System/Glib/GObject.chs.pp, glib/System/Glib/GParameter.hsc
	glib/System/Glib/GType.chs, glib/System/Glib/GValue.chs,
	glib/System/Glib/GValueTypes.chs, glib/System/Glib/StoreValue.hsc
	glib/System/Glib/UTFString.hs, glib/System/Glib/Types.chs: move glib
	modules to a seperate package and use hierarchical namespace names.

	* configure.ac: add glib tests and flags stuff. Emit the result of the
	win32 test into config.h so it'll be used.

	* Makefile.am: add glib package, change file names to reflect module
	renaming. Add glib flags before gtk flags everywere. All .hi files
	now install using nobase to preserve directory names.

2005-01-07 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/apiGen/ApiGen.hs: several documentation improvements, add
	module level documentation and produce contents list. Also note in the
	documentation what gtk version the module as a whole and individual
	functions are avaliable from, eg "available since Gtk version 2.4".

	* tools/apiGen/format-docs.xsl: extract module level documentation,
	the summary, description and any extra sections including program
	listings. The object hierarchy has not yet been added.
	
	* tools/apiGen/Template.chs: added Haddock headers and rename some
	template variables. Move major documentation section to export list.

	* tools/apiGen/gen-all.sh: fix buglet.

	* tools/apiGen/README: update TODO list.

2005-01-06 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/apiGen/ApiGen.hs, tools/apiGen/Template.chs
	tools/apiGen/format-docs.xsl, tools/apiGen/gen-all.sh,
	tools/apiGen/gapi2xml.pl, tools/apiGen/gapi_pp.pl,
	tools/apiGen/README: new tool to semi-automatically generate binding
	modules from C headder files with Haddock documentation extracted from
	gtk-doc docbook xml files. Perl scripts by gtk-sharp team.

2004-12-19 Duncan Coutts <duncan@coutts.uklinux.net>

	* configure.ac: add support for conditionals in Makefile.am so that
	--disable-gnome, --disable-libglade will work again.
	Instead of doing #include<gtk/gtkversion.h> in config.h just define the
	GTK_CHECK_VERSION in config.h. It's a simple macro and it means that
	now config.h does not depend on any -I include paths so can be used in
	any module. Also added hack to stop warnings about PACKAGE_* variables
	clashing with the ones from ghc's version of config.h.

	* gtk/treeList/TreeView.chs.pp: do not #include<gtk/gtkversion.h>,
	the GTK_CHECK_VERSION macro is now defined in config.h

	* mk/common.mk: include config.h when building .precomp files since
	config.h has the *_DISABLE_DEPRECATED #defines which modify the gtk
	headers. Also, use a per-library search path. Possibly controversial,
	revert it if you don't like the idea.

	* Makefile.am: Use per-library / per-program search paths. Make the
	glade, gconf, sourceview and mozembed packages build conditionally on
	ENABLE_* variables set by ./configure --disable-*. Also, ditch the use
	of BUILDSOURCES, having re-read the automake manual I concluded it's
	not helpful.

	* tools/callbackGen/HookGenerator.hs: remove support for pre-5.04 ghc.

2004-12-18 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/c2hs/toplevel/Main.hs: remove performance debuging output when
	processing .chs files. Keep debugging output for generating .precomp
	files to remind us how slow it is and to bug me to fix it!

	* mozembed/Graphics/UI/Gtk/MozEmbed.chs: tidy up module header.

	* mk/chsDepend.in: make chsDepend understand hierarchical modules names
	and change the dependency of .hs files to be on the .chi files rather
	than the .chs files. This is how it is done for .o and .hs files, that
	is, the	.o file depends on the .hi files.

	* Makefile.am: make the various 'clean' targets more thorough. Also
	get the .hi files to be installed for the other packages.

2004-12-17 Duncan Coutts <duncan@coutts.uklinux.net>

	* mozembed/Graphics/UI/Gtk/MozEmbed.chs: new bindings to GtkMozEmbed
	contributed by Wolfram Kahl <kahl@cas.mcmaster.ca> (with previous work
	by Scott West and Jonas Svensson).

	* mozembed/mozembed.pkg.in: new package file

	* tools/hierarchyGen/hierarchy.list,
	tools/callbackGen/gtkmarshal.list: class definition and extra signal
	prototype for GtkMozEmbed.

	* configure.ac: checks for version of mozilla-gtkmozembed and get
	CFLAGS etc.

	* Makefile.am: add support for building the mozembed package.

	* mk/common.mk: do not -#include<config.h> when compiling .hs to .o as
	it is unnecessary and breaks for modules that do not have
	-I/usr/include/gtk-2.0 in their CPPFLAGS.

	* demo/mozembed/TestEmbedMoz.hs, demo/mozembed/Makefile: add mozembed
	test program.

2004-12-14 Duncan Coutts <duncan@coutts.uklinux.net>

	* mk/common.mk: quoting/escaping fix so that headers are -#include'd
	properly. This allows a build using ./configure --with-hcflags=-fvia-C
	to get further.

2004-12-13 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/hierarchyGen/TypeGen.hs: make the tool use an external template
	file rather than embeding all the module text. Also added a
	--parentname parameter to allow modules to inherit definitions from
	other modules - this replaces the 'if fname/="Hierarchy" then' hack.

	* tools/hierarchyGen/Hierarchy.chs.template: new file. Template for
	class hierarchy definition modules. Used by the TypeGenerator program.
	
	* Makefile.am: modify invocation of TypeGenerator to pass template file
	and pass --parentname=Hierarchy for all packages other than gtk.

	* mk/common.mk: allow per-module HCFLAGS

	* Makefile.am: c2hs builds without -fglasgow-exts except for the
	Parsers and C2HSConfig modules.

	* tools/c2hs/base/sysdep/SysDep.hs: simplify import and re-export.

	* Makefile.am: build glade and sourceview with more targeted use of
	-fglasgow-exts

2004-12-12 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/gtk.pkg.in: change package_deps to haskell98 rather than base to
	fix linker problem.

	* Makefile.am: use $()-style make variable rather than @@-style
	variable substitution.

	* mk/common.mk: restore use of the $(HCFLAGS) in compile and link
	commands. The variable comes from ./configure's --with-hcflags
	parameter. Also when registering packages use update rather than add
	so that reinstallations do not fail.

2004-12-12 Axel Simon <A.Simon@kent.ac.uk> 

	* gtk/menuComboToolbar/Toolbar.chs.pp: Change comments in order
	not to confuse haddock. The pre-processor leaves blank lines which
	makes haddock assume the comment has ended. Use mult-line
	comments.
	
	* gtk/abstract/Range.chs, abstract/Widget.chs,
	display/Label.chs, misc/Adjustment.chs, scrolling/HScrollbar.chs,
	scrolling/VScrollbar.chs: Add some more functions.

	* Makefile.am, mk/common.mk: Avoid building dependencies when
	saying "make clean".

	* gtk/pango/Description.chs, gtk/pango/PangoEnums.chs: Rearranged
	enumerations, added new functions to query fonts.

	* gtk/pango/Markup.hs, gtk/pango/PangoLayout.chs,
	gtk/pango/PangoTypes.chs.pp, gtk/pango/Rendering.chs: As above. 
	New functionality only available due to fixed in c2hs that allow
	type synonyms in hooks.

	* tools/hierarchyGen/hierarchy.list: Corrected a typo.

	* demo/unicode/Arabic.hs: Simplify example.

	* gtk/general/Structs.hsc: Changed the type of pangoScale from Int
	to Integer.

	* acinclude.m4: Replaced a -I with a -L which fixes installation
	of packages.

	* sourceview/sourceview.pkg.in: Added forgotten comma.
	

2004-12-9  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/embedding/Embedding.hsc, gtk/entry/EntryCompletion.chs.pp,
	gtk/gdk/Events.hsc, gtk/gdk/GC.chs, gtk/gdk/GdkEnums.chs,
	gtk/gdk/Keys.chs, gtk/gdk/Pixbuf.chs, gtk/general/FFI.hs,
	gtk/general/General.chs, gtk/general/StockItems.hsc,
	gtk/general/Structs.hsc, gtk/glib/GObject.chs.pp, gtk/glib/GType.chs
	gtk/treeList/StoreValue.hsc, gtk/treeList/TreeSelection.chs,
	gtk/treeList/TreeView.chs.pp, mogul/TreeList.hs, mogul/WidgetTable.hs,
	tools/callbackGen/Signal.chs-boot2, tools/c2hs/base/sysdep/SysDep.hs:
	change some import modules to use modern hierarchical modules so we no
	longer need the LocalData or LocalControl modules, nor the data or lang
	packages. This should still work all the way back to ghc 5.04.x, though
	this needs testing.

	* mk/common.mk: make install-data-hook more likely to work by adding a
	';' after each command to execute. Also limit tools memory hunger.

	* acinclude.m4, configure.ac: add two new macros for changing the
	representation of the *_CFLAGS so they can be stuck into the *.pkg
	files. The macros do exactly the same thing as the existing code in
	configure.ac but we now	want to do it for all the packages.

	* gtk/gtk.pkg.in, mogul/mogul.pkg.in, sourceview/sourceview.pkg.in,
	glade/glade.pkg.in, gconf/gconf.pkg.in: update these to use the new
	variables set by the above macros. Also change the name of the gtk2hs
	package to be just gtk and prefix all package lib names with HS.

	* Makefile.am: make package library names start with HS, ie libHSgtk.a
	Also eliminate the compat/* modules and package deps on the data and
	lang packages as they are all no longer needed.

2004-12-8  Duncan Coutts <duncan@coutts.uklinux.net>

	* acinclude.m4: fix an automake warning about underquoted definitions

	* Makefile.am: build glade, gconf, sourceview & mogul packages

	* configure.ac: add new .pkg files to AC_OUTPUT list

	* mogul/mogul.pkg, glade/glade.pkg, gconf/gconf.pkg,
	sourceview/sourceview.pkg: add new pkg files

	* TODO: record a couple issues with the build

2004-12-7  Duncan Coutts <duncan@coutts.uklinux.net>

	* mk/common.mk: tiny tidyup

	* tools/c2hs/chs/CHS.hs: apply old patch to our new c2hs, makes c2hs
	deal with hierarchical module names.

	* tools/c2hs/gen/GenBind.hs: apply old patch to our new c2hs, fix
	handling of typedef'ed C types. Needed for SourceMarker.chs.

	* gconf/System/Gnome/GConf/GConfClient.chs,
	gconf/System/Gnome/GConf/GConfValue.chs: make these work with our
	current version of c2hs. It's not entirely obvious to me if this is
	an improvement in c2hs or a regression. Could do with investigating.

2004-12-02  Jens Petersen  <petersen@haskell.org>

	* configure.ac: Use modern invocation of AC_INIT with name and
	version.  Call AM_INIT_AUTOMAKE without args.  No longer override
	VERSION variable with VERSION file.

	* Makefile.am (EXTRA_DIST): No longer include VERSION file.
	Add "tools/checkDirs.sh".

2004-12-01 Axel Simon <A.Simon@kent.ac.uk> 

	* gtk/menuComboToolbar/Toolbar.chs.pp: Removed two slashes that
	confused haddock.

	* mk/common.mk: Build the package with the correct name, not the
	name of the package file. Removed a bogus variable during linking.
	
2004-11-28 Axel Simon <A.Simon@kent.ac.uk> 

	* Makefile.am: Add all _stub.o files as library dependencies. This
	seems to be enough to link the stub files into the archive.
	
	* tools/c2hs/base/sysdep/SysDep([GN]HC?|Posix{UN}AVAIL).hs: Tie
	SysDep.hs and SysDepPosix.hs directly to the GHC 6 versions.
	
	* gtk/gtk2hs.pkg: Package file for gtk2hs.

	* configure.ac, tools/checkDir.sh: Determine CFLAGS and LDFLAGS
	for each of the libraries, in particular remove directories that
	are already present in Gtk from more derived libraries.

	* Makefile.am, mk/common.mk: Add a new goal for calculating
	dependencies for Haskell files. This new target allows the
	recursive invocation with the name of the library/application for
	which dependencies are generated. This allows for choosing the
	correct CFLAGS for doing pre-processing. Furthermore, fixed the
	installation of a package.

	* mk/applicatoin.mk, config.mk.in, library.mk, recurse.mk: Remove.
	
2004-11-26 Axel Simon <A.Simon@kent.ac.uk> 

	* configure.ac: Changed AC_CONFIG_HEADERS to AM_CONFIG_HEADER.
	
2004-11-26  Jens Petersen  <petersen@haskell.org>

	* Makefile.am (EXTRA_DIST): Include Signal.chs-boot*,
	gtkmarshal.list, hierarchy.list and c2hs_config.h in tarball.

	* configure.ac: Output mk/config.mk.

	* tools/c2hs/toplevel/Main.hs: Fix spelling of finish.

2004-11-21 Axel Simon <A.Simon@kent.ac.uk> 

	* Makefile.am, tools/c2hs/gen/GenBind.hs,
	tools/c2hs/gen/GBMonad.hs: Incorporate the patch so that Ptr,
	ForeignPtr and StablePtr are expanded correctlyl independently of
	whether they are wrapped in a newtype or just synonyms. Fixed
	(hopefully) a bug in c2hs' get hook that didn't cope with
	pointers.

	* Makefile.am, configure.ac: Generating dependencies now involves
	building c2hs on the fly. This is bad for saying make clean on a
	clean tree, but so far I this is the cleanest solution.

	* gtk/*/*.chs.cpp: Renamed all these files to .chs.pp since
	automake otherwise thinks they are C++ sources.

2004-10-28  Axel Simon <A.Simon@kent.ac.uk>

	* mk/mkDepend.in: Undo changes. Dependencies are again where the
	.chs ffiles are.

	* Makefile.am: Fancy dependency generation through makes built-in
	feature of updating files that are -include'd. I had to sacrifice
	separate CFLAGS for different packages/applications. See comment
	at the beginning of Makefile.am.
	
2004-10-27  Axel Simon <A.Simon@kent.ac.uk>

	* mk/mkDepend.in: Redirect dependencies into .dep/ directory.
	
	* Makefile.am: Now builds libgtk2hs.a. Managed to define rule to
	turn .chs.cpp into .chs, hence renamed all files that need to be
	pre-processed.

	* gtk/*/*.chspp: Renamed to .chs.cpp
	
2004-10-25  Axel Simon <A.Simon@kent.ac.uk>

	* configure.ac: Don't update mk/config.mk.in which no longer
	exists.

	* Makefile.am: Repair automake: Force object files to be in
	subdirectories.

	* aclocal.m4: Removed. This file is regenerated automatically.
	
2004-10-24  Axel Simon <A.Simon@kent.ac.uk>

	* configure.in, configure.ac, Makefile, Makefile.am: Removed old
	and added new versions these. The new build system is based on
	automake. 38 files in gtk/* were pre-processed with cpp. These
	have all been renamed to .chspp.
	
	* tools/hierachyGen/TypeGen.hs: Add newline to help message. Let
	generated file import withForeignPtr which is used by the c2hs
	generated code.

2004-09-04  Axel Simon <A.Simon@kent.ac.uk>

	* Makefile, mk/recurse.mk: Set MAKE_APPS to empty and introduce
	MAKE_DEMOS. Demos are only built on "make all" not on "make
	inplace". Demos are never installed, applications are. The latter
	never did anything since mk/application.mk does not provide an
	install target.
	
2004-08-19  Jens Petersen  <petersen@haskell.org>

	* configure.in (GHC_DOCDIR): Default to unset.

	* mk/library.mk (HADDOCK_BASEDOC_FLAG): New variable to handle
	haddock flag for ghc base documentation BASEDOC_DIR  if GHC_DOCDIR set.

	* gtk/Makefile (EXCLUDE_DOCS): Add Hierarchy.hs

	* sourceview/Makefile (C2HS_EXTRA_FLAGS):  Replaces HIDIRS for c2hs.

	* mogul/Makefile: Add EXCLUDE_DOCS and PREPROC_DOCS for haddock.

	* mk/recurse.mk: Remove $(MAKE_DOCS) dependency from all targets.
	Add html and install-html targets.

	* mk/library.mk (PKGDOCDIR): New variable to hold package doc dir.
	(html): New target that builds packages docs with haddock.  Just
	warns if HADDOCK is not defined.
	(install-html): New target to install packages docs.

	* mk/config.mk.in: Add HADDOCK and GHC_DOCDIR replacing BUILDDOCS,
	xml and xslt related variables.

	* mk/common.mk (INST_DOCDIR): Setup new variable.
	(C2HSFLAGGED): Add C2HS_EXTRA_FLAGS for finding .chi files.

	* gtk/multiline/TextView.chs: Fix doc typos at top.

	* gtk/Makefile: Add EXCLUDE_DOCS and PREPROC_DOCS for haddock.

	* glade/Makefile (C2HS_EXTRA_FLAGS): Replaces HIDIRS for c2hs only.

	* gconf/System/Gnome/GConf/GConfClient.chs: Doc tweaks to make
	haddock happy at top and for gconfAddDir.

	* gconf/Makefile (C2HS_EXTRA_FLAGS): Replaces HIDIRS for c2hs only.

	* gtk2hs.spec.in: Use ghc-6.2.1 and define short ghc version %ghcver.
	Use License instead of Copyright.  Update buildrequires.
	Add separate subpackages for sourceview, gconf and glade
	Name subpackages with %ghcver.  Subpackages now require the
	appropriate -devel package.  Define %ghclibdir and %gtk2hsdir.
	(%build): Update configure invocation - drop xml options and
	use --prefix and --libdir.  Make html.  Use mkdir.  Clean demo
	dirs with find.
	(%post,%preun): Update and add scripts for new subpackages.
	(%files): Html docs are now in /usr/share/doc/gtk2hs.

	* configure.in: Comment out GtkGLExt, HOpenGL checks.  Check for
	haddock instead of xslt.  Add --with-ghc-docdir option.
	Remove xml catalog and xsl checks.  Replace missing xml final warning
	with haddock missing warning.
	
	* Makefile: No longer build gendoc or doc.  Build mogul after gtk2.

2004-08-16  Axel Simon <A.Simon@kent.ac.uk>

	* mk/common.mk, mk/library.mk, mk/recurse.mk, Makefile: Make clean
	and make distclean remove more files now.
	
2004-08-15  Axel Simon <A.Simon@kent.ac.uk>

	* VERSION: Bumped to 0.9.6. Release.
	
2004-08-11  Axel Simon <A.Simon@kent.ac.uk>

	* configure.in: Make install-sh executable and don't inform about
	OpenGL status since it doesn't work anyway.

2004-08-10  Duncan Coutts <duncan@coutts.uklinux.net>

	* configure.in: require autoconf 2.50 or greater, 2.13 doesn't work.

	* gtk/layout/Notebook.chs: fix typos.

	* compat/LocalControl.hs, compat/LocalData.hs, gtk/general/FFI.hs:
	remove support for versions of ghc pre 5.04.

	* gconf/System/Gnome/GConf/GConfClient.chs, gtk/abstract/Container.chs
	gtk/entry/EntryCompletion.chs, gtk/general/General.chs,
	gtk/glib/GObject.chs, gtk/multiline/TextIter.chs,
	gtk/multiline/TextTagTable.chs, gtk/treeList/TreeModel.chs,
	gtk/treeList/TreeSelection.chs, gtk/treeList/TreeView.chs,
	tools/callbackGen/Signal.chs-boot2: ghc 5.04 supports the new FFI
	syntax so remove old-style "foreign export dynamic" versions.

2004-08-9  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/layout/Notebook.chs: bind some new functions. Mark deprecated
	functions. Generalise the notebook(Append|Prepend|Insert)PageMenu
	functions to take an arbitrary widget for the popup menu. This is
	a slight change in API. Quite a bit of docs cleanup.

2004-08-8  Duncan Coutts <duncan@coutts.uklinux.net>

	* mk/library.mk, mk/common.mk: Axel's patches to change the way the
	_stub.o files are found so new gtk-2.4 modules don't cause link errors
	whe building for gtk-2.2 or 2.0. With a slight change so the _stub.o
	files are looked for after compiling rather than before.

	* gtk/misc/FileChooserWidget.chs, gtk/menuComboToolbar/ToolItem.chs,
	gtk/menuComboToolbar/ComboBoxEntry.chs,
	gtk/menuComboToolbar/ComboBox.chs, gtk/layout/Expander.chs,
	gtk/entry/EntryCompletion.chs, gtk/abstract/FileChooser.chs,
	gtk/windows/FileChooserDialog.chs, gtk/general/Gtk.hs: Axel's patches
	to change the way gtk-2.4 modules are excluded when building for
	earlier versions. Instead of not importing them into Gtk.hs, make them
	have empty bodies. That way c2hs doesn't see the new functions.

	* gconf/System/Gnome/GConf/GConfValue.chs: Add back partial support for
	the GConfSchema type so getting a schema key will not fail.

	* gconf/System/Gnome/GConf/GConfClient.chs: Make documantation Haddock
	compatible.

	* gtk/entry/Entry.chs, gtk/general/Enums.chs, gtk/general/Structs.hsc,
	gtk/menuComboToolbar/Combo.chs, gtk/menuComboToolbar/OptionMenu.chs,
	gtk/menuComboToolbar/Toolbar.chs, gtk/misc/Tooltips.chs,
	gtk/windows/Window.chs, configure.in: add #ifndef DISABLE_DEPRECATED
	exclusions. Everything should build now with --disabled-deprecated.

	* mogul/Makefile, mogul/Mogul.hs, mogul/NewWidget.hs,
	mogul/GetWidget.hs: make mogul build with --disabled-deprecated.

2004-08-6  Duncan Coutts <duncan@coutts.uklinux.net>

	* configure.in, mk/config.mk.in, gtk/Makefile, mogul/Makefile,
	glade/Makefile, sourceview/Makefile: drop support for ghc 5.02.x.
	the minimum version required is now 5.04.x.

	* gtk/menuComboToolbar/Menu.chs, gtk/layout/Fixed.chs,
	gtk/display/Label.chs: haddock markup fixes.

	* gtk/glib/GError.chs, gtk/multiline/TextTagTable.chs: ghc 5.04.x
	compatability fixes.

	* gtk/treeList/TreeModel.chs: ghc 5.04.x compatability and C symbol name
	typo fix.

	* tools/hierarchyGen/hierarchy.list: gtk_clipboard_get_type() was
	missing	from gtk-2.0, it apeared in gtk-2.2 so we can only bind
	GtkClipboard from gtk-2.2 onwards.

	* gtk/abstract/ButtonBox.chs, gtk/entry/Entry.chs: make them build with
	gtk-2.0 & 2.2.

	* gconf/System/Gnome/GConf/GConfValue.chs,
	gconf/System/Gnome/GConf/GConfClient.chs: remove GConfSchema type. It
	was never bound properly. This also fixes compatability with ghc 6.0
	and ghc 5.04.x.

2004-08-5  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/treeList/TreeView.chs, gtk/multiline/TextTag.chs,
	gtk/multiline/TextTagTable.chs, gtk/multiline/TextView.chs: add missing
	functions & fix typo bug.

	* gtk/treeList/api.ignore: add more ignored functions.

2004-08-4  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/abstract/Container.chs, gtk/treeList/TreeSelection.chs,
	gtk/treeList/TreeModelSort.chs, gtk/treeList/TreeViewColumn.chs,
	gtk/treeList/TreeModel.chs: add missing functions.

	* gtk/abstract/api.ignore, gtk/treeList/api.ignore: update list of
	ignored functions.

	* configure.in, mk/config.mk.in, tools/hierarchyGen/hierarchy.list,
	gtk/Makefile: add --disable-deprecated config option. Note that this
	configuration will not build sucessfully yet.

	* gtk/abstract/Object.chs, gtk/entry/Entry.chs: minor doc fixes.

2004-08-3  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/abstract/FileChooser.chs, gtk/general/FFI.hs: move a couple of
	string marshaling functions to a common location.

	* tools/apicoverage/Makefile: accurate count of unbound gtk functions.

	* tools/apicoverage/gtk.ignore: add a few more APIs to ignore.

	* gtk/buttons/ToggleButton.chs, gtk/buttons/RadioButton.chs,
	gtk/display/AccelLabel.chs, gtk/general/IconFactory.chs,
	gtk/menuComboToolbar/CheckMenuItem.chs,
	gtk/menuComboToolbar/RadioMenuItem.chs:	add missing functions. Also
	tidy up documentation a bit.

	* gtk/menuComboToolbar/api.ignore: exclude deprecated and internal
	radio_menu_item and toolbar functions.

	* tools/callbackGen/gtkmarshal.list: updated marshal list from gtk-2.4.
	It adds several new ones and removes a few which we don't seem to use.
	Required for a signal in the Toolbar module. 
	
	* tools/hierarchyGen/hierarchy.list: new classes for gtk-2.4, a few old
	ones that were missing and some more Gdk classes.

	* gtk/menuComboToolbar/ImageMenuItem.chs: fix type error introduced by
	c2hs being able to 'see' new AccelGroup class. Also fiddle with docs.

	* gtk/menuComboToolbar/Toolbar.chs, gtk/menuComboToolbar/MenuItem.chs
	gtk/menuComboToolbar/Menu.chs: add missing functions, including
	accelerator-related ones. Also tidy up documentation a bit.

	* gtk/general/Structs.hsc: remove unneeded toolbar function.

	* gtk/selectors/ColorSelection.chs, gtk/selectors/FontSelection.chs
	gtk/selectors/ColorSelectionDialog.chs,
	gtk/selectors/FontSelectionDialog.chs, gtk/layout/Fixed.chs,
	gtk/misc/SizeGroup.chs, gtk/menuComboToolbar/ToolItem.chs: new modules

	* gtk/selectors/api.ignore: new file, mark deprecated functions.

	* gtk/Makefile: add new directory 'selectors' to SUBDIRS.

	* gtk/general/Gtk.hs: export new modules

	* demo/profileviewer/Makefile, demo/profileviewer/ProfileViewer.hs: fix
	bug in demo and rename executable to be consistent.

	* gtk/buttons/api.ignore, gtk/display/api.ignore,
	gtk/embedding/api.ignore: mark deprecated and unued functions (oops 
	forgot to commit these before).

	* demo/filechooser/.cvsignore, demo/gconf/.cvsignore,
	demo/glade/.cvsignore, gconf/System/Gnome/GConf/.cvsignore,
	glade/.cvsignore, gtk/selectors/.cvsignore, sourceview/.cvsignore,
	tools/apicoverage/.cvsignore, tools/callbackGen/.cvsignore,
	tools/hierarchyGen/.cvsignore, gtk/abstract/.cvsignore,
	gtk/entry/.cvsignore, gtk/gdk/.cvsignore, gtk/glib/.cvsignore,
	gtk/layout/.cvsignore, gtk/menuComboToolbar/.cvsignore,
	gtk/misc/.cvsignore, gtk/windows/.cvsignore: add and update .cvsignore
	files so our cvs updates are less noisy.

2004-08-1  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/entry/SpinButton.chs, gtk/layout/Table.chs, gtk/layout/Layout.chs
	gtk/misc/Viewport.chs, gtk/misc/Tooltips.chs,
	gtk/scrolling/ScrolledWindow.chs, gtk/treeList/ListStore.chs,
	gtk/display/Label.chs, gtk/abstract/Misc.chs, gtk/abstract/Paned.chs,
	gtk/abstract/Range.chs, gtk/abstract/Scale.chs: add missing functions.
	Also fix a couple typo bugs and tidy up some documentation.

	* gtk/layout/api.ignore, gtk/misc/api.ignore, gtk/treeList/api.ignore
	gtk/windows/api.ignore, gtk/abstract/api.ignore: updated with more
	deprecated functions to ignore.

	* tools/apicoverage/gtk.ignore: updated api ignore stuff. Some added,
	some moved elsewhere.

	* tools/apicoverage/Makefile: new target 'summary' to list the number
	of unbound gtk functions, grouped by namespace prefix.

2004-07-30  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/entry/Editable.chs, gtk/entry/Entry.chs: split off editable
	functions into separate module and make Entry an instance of the
	EditableClass. Also add missing functions.

	* gtk/entry/SpinButton.chs: make SpinButton an EditableClass instance.

	* tools/hierarchyGen/hierarchy.list: add GtkEditable as an interface.

	* gtk/general/Gtk.hs: export new Editable module.

	* gtk/buttons/Button.chs, gtk/menuComboToolbar/CheckMenuItem.chs,
	gtk/misc/Calendar.chs, gtk/misc/EventBox.chs, gtk/misc/HandleBox.chs
	gtk/entry/HScale, gtk/entry/VScale, gtk/ornaments/Frame.chs,
	gtk/treeList/CellRendererToggle.chs: add missing functions.

	* gtk/general/Structs.hsc: remove unneeded CheckMenuItem function.

	* gtk/misc/api.ignore, gtk/treeList/api.ignore, gtk/entry/api.ignore
	gtk/abstract/api.ignore, gtk/general/api.ignore, gtk/windows/api.ignore
	gtk/menuComboToolbar/api.ignore, gtk/layout/api.ignore: new files to
	mark unbound functions, for use with the api coverage tool.

	* tools/apicoverage/Makefile: filter gtk.coverage too to reduce noise.
	This ignores where we are currently implementing deprecated functions.

2004-07-29  Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/general/General.chs: don't use depreciated gtk main loop
	functions to install timout and idle handlers, use glib equivalents.

	* demo/filechooser/Makefile: FileChooserDemo.glade in EXTRA_TARFILES.

	* gtk/abstract/FileChooser.chs: instance FileChooserError GErrorClass

	* gtk2hs/gtk/abstract/Box.chs, gtk/misc/Adjustment.chs,
	gtk/layout/Alignment.chs: implement missing functions

	* tools/apicoverage/Makefile, tools/apicoverage/Exclude.hs,
	tools/apicoverage/gtk.ignore, tools/apicoverage/README: new tool to
	check on our coverage of the gtk api.

2004-07-28  Duncan Coutts <duncan@coutts.uklinux.net>

	* Makefile: only build filechooser demo with gtk-2.4

	* demo/filechooser/FileChooserDemo.glade: add demo's glade file

2004-07-28  Jens Petersen  <petersen@haskell.org>

	* demo/glade/Makefile (EXTRA_TARFILES): Include simple.glade.

	* mk/common.mk: Define INST_HIDIR, INST_LIBDIR, INST_INCLDIR and
	INST_BINDIR directly as normal make variables, so that lib
	packages get installed in separate subdirs.

2004-07-27  Duncan Coutts <duncan@coutts.uklinux.net>

	* demo/gconf/GConfDemo.hs, demo/gconf/Makefile: new gconf demo/test

	* Makefile: build gconf demo

2004-07-27  Jens Petersen  <petersen@haskell.org>

	* mk/config.mk.in: Define ABS_TOP.  No longer define CPP.

	* mk/common.mk: Sedpipe ABS_TOP and use it for TARDIR to fix
	tarsource target. 

	* glade/Makefile: Use TOP.  Generate GladeType.chs with the same
	invocation used by sourceview and gtk.

	* doc/Makefile: Use common.mk and EXTRA_TARFILES, drop own
	tarsource target and no longer set CURDIR and TARDIR.

	* VERSION: Up to 0.9.5.50

2004-07-26 Axel Simon <A.Simon@kent.ac.uk>

	* gtk/abstract/ButtonBox.chs: Remove buttonBoxGetChildSecondary
	for Gtk prior to 2.4.
	
2004-07-26 Duncan Coutts <duncan@coutts.uklinux.net>

	* configure.in: use relative $(TOP) variable rather than absolute $TOP
	variable, so Makefiles use relative paths. Add test for gconf package.
	Test for particular versions of gtk API.

	* Makefile: add gconf to list of dirs to build

	* tools/hierarchyGen/hierarchy.list: add GConf object.
	Remove preprocessor annotations, build classes conditionally using
	tags like 'gtk-2.4'. Remove unnecessary annotations by taking advantage
	of changes in the TypeGenerator. Only create GtkFileFilter when
	building against gtk 2.4 or later.

	* tools/hierarchyGen/TypeGen.hs: be a bit cleverer with dealing with
	type prefixes, less hard coded knowledge of Gtk types. No not require
	_get_type annotations when they can be worked out automatically. Allow
	tags like 'gtk-2.4'. Extra command line option to specify module name.

	* tools/callbackGen/gtkmarshal.list: add callback spec needed by gconf

	* sourceview/Makefile: do not run cpp over hierarchy.list

	* mk/config.mk.in: remove absolute path TOP variable. Add gconf flags.
	Add gtk version check flags.

	* gtk/Makefile: do not run cpp over hierarchy.list. Add gtk-2.x tags
	conditional on appropriate config flags.

	* c2hs/chs/CHS.hs: parse hierarchical module names ok.

	* c2hs/base/syntax/Parsers.hs, c2hs/c/CParser.hs: Manuel Chakravarty's
	patch to fix the space leak I found. c2hs runs much faster now.

	* gconf/Makefile, gconf/System/Gnome/GConf.hs,
	gconf/System/Gnome/GConf/GConfClient.chs,
	gconf/System/Gnome/GConf/GConfValue.chs: new binding to GConf config
	system. Uses hierarchical module names.

2004-07-24 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/glib/GError.chs, gtk/abstract/FileChooser.chs: spelling fix
	propogateGError to propagateGError

2004-07-17 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/glib/GError.chs: extra function for converting GError exceptions
	to ordinary user errors.

	* tools/callbackGen/HookGenerator.hs: wrap callbacks in GError
	exception handler.

	* tools/callbackGen/Signal.chs-boot2: import GError

2004-07-16 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/glib/GError.chs: new module for dealing with GErrors

	* gtk/general/Structs.hsc: removed GError definition, also
	documentation fixes.

	* gtk/abstract/FileChooser.chs: use new GError module, remove own
	definition of propogateGError

	* gtk/gdk/Pixbuf.chs: use new GError module, also documentation fixes

2004-06-04 Axel Simon <A.Simon@kent.ac.uk>

	* gtk/gdk/Drawable.chs: fixed typo in drawLine. Thanks to Mats-Ola
	Persson.
	
2004-05-27 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/pango/Markup.hs, gtk/pango/PangoLayout.chs,
	gtk/general/Structs.hsc, gtk/gdk/Pixbuf.chs: fix DOCFIXMEs
	fix also a constructor spelling typo (FUdoulbe -> FUdouble)

2004-05-25 Duncan Coutts <duncan@coutts.uklinux.net>

	* mogul/GetWidget.hs, mogul/MDialog.hs, mogul/Mogul.hs,
	mogul/NewWidget.hs, mogul/TreeList.hs, mogul/WidgetTable.hs:
	initial haddockification

	* glade/Glade.chs: initial haddockification

	* sourceview/SourceBuffer.chs, sourceview/SourceIter.chs,
	sourceview/SourceLanguage.chs,
	sourceview/SourceLanguagesManager.chs,
	sourceview/SourceMarker.chs, sourceview/SourceStyleScheme.chs,
	sourceview/SourceTag.chs, sourceview/SourceTagStyle.hsc,
	sourceview/SourceTagTable.chs, sourceview/SourceView.chs:
	initial haddockification

	* tools/hierarchyGen/TypeGen.hs: make prog generator produce
	haddock compatible documentation

	* tools/callbackGen/Signal.chs-boot1: make signals module header
	haddock compatible

2004-05-23 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/abstract/Bin.chs, gtk/abstract/Box.chs,
	gtk/abstract/ButtonBox.chs, gtk/abstract/Container.chs,
	gtk/abstract/FileChooser.chs, gtk/abstract/Misc.chs,
	gtk/abstract/Object.chs, gtk/abstract/Paned.chs,
	gtk/abstract/Range.chs, gtk/abstract/Scale.chs,
	gtk/abstract/Scrollbar.hs, gtk/abstract/Separator.hs,
	gtk/abstract/Widget.chs: initial haddockification

	* gtk/buttons/Button.chs, gtk/buttons/CheckButton.chs,
	gtk/buttons/RadioButton.chs, gtk/buttons/ToggleButton.chs:
	initial haddockification

	* gtk/display/AccelLabel.chs, gtk/display/Image.chs,
	gtk/display/Label.chs, gtk/display/ProgressBar.chs,
	gtk/display/Statusbar.chs: initial haddockification

	* gtk/entry/Entry.chs, gtk/entry/EntryCompletion.chs,
	gtk/entry/HScale.chs, gtk/entry/SpinButton.chs,
	gtk/entry/VScale.chs: initial haddockification

	* gtk/gdk/DrawWindow.hs, gtk/gdk/Drawable.chs,
	gtk/gdk/Events.hsc, gtk/gdk/GC.chs,
	gtk/gdk/Gdk.chs, gtk/gdk/GdkEnums.chs,
	gtk/gdk/Keys.chs, gtk/gdk/Pixbuf.chs,
	gtk/gdk/Region.chs: initial haddockification

	* gtk/general/Enums.chs, gtk/general/FFI.hs,
	gtk/general/General.chs, gtk/general/Gtk.hs,
	gtk/general/IconFactory.chs, gtk/general/StockItems.hsc
	gtk/general/Structs.hsc, gtk/general/Style.chs:
	initial haddockification

	* gtk/glib/GList.chs, gtk/glib/GObject.chs, gtk/glib/GType.chs,
	gtk/glib/GValue.chs, gtk/glib/GValueTypes.chs:
	initial haddockification

	* gtk/layout/Alignment.chs, gtk/layout/AspectFrame.chs,
	gtk/layout/Expander.chs, gtk/layout/HBox.chs,
	gtk/layout/HButtonBox.chs, gtk/layout/HPaned.chs,
	gtk/layout/Layout.chs, gtk/layout/Notebook.chs,
	gtk/layout/Table.chs, gtk/layout/VBox.chs,
	gtk/layout/VButtonBox.chs, gtk/layout/VPaned.chs:
	initial haddockification

	* gtk/menuComboToolbar/CheckMenuItem.chs,
	gtk/menuComboToolbar/Combo.chs, gtk/menuComboToolbar/ComboBox.chs,
	gtk/menuComboToolbar/ComboBoxEntry.chs,
	gtk/menuComboToolbar/ImageMenuItem.chs,
	gtk/menuComboToolbar/Menu.chs, gtk/menuComboToolbar/MenuBar.chs,
	gtk/menuComboToolbar/MenuItem.chs,
	gtk/menuComboToolbar/MenuShell.chs,
	gtk/menuComboToolbar/OptionMenu.chs,
	gtk/menuComboToolbar/RadioMenuItem.chs,
	gtk/menuComboToolbar/TearoffMenuItem.chs,
	gtk/menuComboToolbar/Toolbar.chs: initial haddockification

	* gtk/misc/Adjustment.chs, gtk/misc/Calendar.chs,
	gtk/misc/DrawingArea.chs, gtk/misc/EventBox.chs,
	gtk/misc/FileChooserWidget.chs, gtk/misc/GArrow.chs,
	gtk/misc/HandleBox.chs, gtk/misc/Tooltips.chs,
	gtk/misc/Viewport.chs: initial haddockification

	* gtk/multiline/TextBuffer.chs, gtk/multiline/TextIter.chs
	gtk/multiline/TextMark.chs, gtk/multiline/TextTag.chs,
	gtk/multiline/TextTagTable.chs, gtk/multiline/TextView.chs:
	initial haddockification

	* gtk/ornaments/Frame.chs, gtk/ornaments/HSeparator.chs,
	gtk/ornaments/VSeparator.chs: initial haddockification

	* gtk/pango/Markup.hs, gtk/pango/PangoLayout.chs,
	gtk/pango/PangoTypes.chs, gtk/pango/Rendering.chs:
	initial haddockification

	* gtk/scrolling/HScrollbar.chs, gtk/scrolling/ScrolledWindow.chs,
	gtk/scrolling/VScrollbar.chs: initial haddockification

	* gtk/treeList/CellRenderer.hs,
	gtk/treeList/CellRendererPixbuf.chs,
	gtk/treeList/CellRendererText.chs,
	gtk/treeList/CellRendererToggle.chs, gtk/treeList/ListStore.chs,
	gtk/treeList/StoreValue.hsc, gtk/treeList/TreeModel.chs,
	gtk/treeList/TreeModelSort.chs,	gtk/treeList/TreeSelection.chs,
	gtk/treeList/TreeStore.chs, gtk/treeList/TreeView.chs,
	gtk/treeList/TreeViewColumn.chs: initial haddockification

	* gtk/windows/Dialog.chs, gtk/windows/FileChooserDialog.chs,
	gtk/windows/FileSel.chs, gtk/windows/Window.chs:
	initial haddockification

	* embedding/Embedding.hsc, embedding/Plug.hs,
	embedding/Socket.chs: initial haddockification

	* gtk/glib/GParameter.hsc: initial haddockification

2004-05-21 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/abstract/FileChooser.chs, gtk/abstract/Widget.chs:
	more minor doc fixes

	* gtk/windows/FileSel.chs: document as depreciated as of gtk 2.4

2004-05-20 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/gdk/Pixbuf.chs, gtk/general/Structs.hsc,
	gtk/treeList/TreeModel.chs: minor doc fixes in preperation for
	'haddock'ification

	* c2hs/chs/CHS.hs: make c2hs emit a haddock-compatible headder
	remove **'s which confuse haddock

2004-05-17 Duncan Coutts <duncan@coutts.uklinux.net>

	* demo/sourceview/haskell.lang: updated syntax highlighting

2004-05-14 Duncan Coutts <duncan@coutts.uklinux.net>

	* demo/profileviewer/ProfileViewer.hs,
	demo/profileviewer/ParseProfile.hs,
	demo/profileviewer/ProfileViewer.glade,
	demo/profileviewer/ProfileViewer.gladep,
	demo/profileviewer/Makefile: new demo, a viewer for ghc's
	time-profile log files

2004-05-6 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/glib/GParameter.hsc: new marshaling support module needed
	for GObject.objectNew

	* gtk/glib/GObject.chs: added constructor objectNew, this is
	needed for FileChooserDialog

	* gtk/general/Gtk.hs: re-enable building FileChooserDialog

	* Makefile: enable building filechooser demo

	* gtk/windows/FileChooserDialog.chs: whitespace fix, to help in
	calculating depandancies of .chs files

2004-05-4 Duncan Coutts <duncan@coutts.uklinux.net>

	* configure.in, Makefile, mk/config.mk.in: allow libglade to be
	built without the gnome modules.

	* tools/hierarchyGen/TypeGen.hs: remove class methods from
	GObjectClass. Use unsafeCoerce instead.

2004-05-2 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/treeList/TreeStore.chs: added method treeStoreClear

	* Makefile: fix typo

2004-05-2 Duncan Coutts <duncan@coutts.uklinux.net>

	* demo/buttonbox/Makefile, demo/concurrent/Makefile,
	demo/glade/Makefile, demo/graphic/Makefile, demo/hello/Makefile,
	demo/sourceview/Makefile, demo/treeList/Makefile,
	demo/unicode/Makefile: removed unnecessary required packages

	* demo/sourceview/SourceViewTest.hs: remove Mogul dependancy

	* gtk/abstract/FileChooser.chs: add signals & change some return
	types to Maybe

	* demo/filechooser/FileChooserDemo: flesh out demo

	* configure.in, Makefile, mk/config.mk.in: change gnome modules
	to be enabled as a group rather than being individually enabled

2004-04-30 Duncan Coutts <duncan@coutts.uklinux.net>

	* sourceview/Makefile,
	* glade/Makefile: added proprocessor pass for hierarchy.list

	* glade/Glade.chs: fix lib prefix

	* gtk/entry/EntryCompletion.chs, gtk/layout/Expander.chs,
	gtk/menuComboToolbar/ComboBoxEntry.chs,
	gtk/menuComboToolbar/ComboBox.chs: fix descriptions in headers

	* gtk/abstract/ButtonBox.chs, gtk/layout/HButtonBox.chs,
	gtk/layout/VButtonBox.chs, demo/buttonbox/Makefile,
	demo/buttonbox/ButtonBox.hs, AUTHORS: new widgets and demo
	contributed by Matthew Walton

	* gtk/abstract/Bin.chs: new (slightly pointless) abstract class

	* gtk/general/Gtk.hs: export new modules

	* gtk/general/Structs.hsc: bug fix for toResponse. Can now get
	response code back from dialogs ok.

	* gtk/abstract/FileChooser.chs, gtk/misc/FileChooserWidget.chs,
	gtk/windows/FileChooserDialog.chs, gtk/general/Gtk.hs,
	demo/filechooser/Makefile, demo/filechooser/FileChooserDemo.hs:
	added new FileChooser modules and a (unfinished) demo program

	* gtk/general/Gtk.hs: temporarily disable building
	FileChooserDialog, one of its dependancies has not been committed

2004-04-29 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/Makefile: use standard $(CPP) variable

2004-04-27 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/entry/Entry.chs: added new gtk 2.4 methods

	* gtk/entry/EntryCompletion.chs, gtk/layout/Expander.chs,
	gtk/menuComboToolbar/ComboBox.chs,
	gtk/menuComboToolbar/ComboBoxEntry.chs: new gtk 2.4 modules

	* gtk/general/Gtk.hs: export new gtk 2.4 modules

	* gtk/Makefile: added proprocessor pass to hierarchy.list before
	so we can selectively generate types depending on the gtk version.

	* tools/hierarchyGen/TypeGen.hs: allow to read stdin

	* tools/hierarchyGen/hierarchy.list: change comments style to be
	compatible with preprocessor and add some new gtk 2.4 classes

2004-04-24 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/abstract/Object.chs: fixed warning

2004-04-18 Axel Simon <A.Simon@kent.ac.uk>

	* demo/glade/Makefile, glade/Makefile: Renamed the glade library
	to glade2hs. I got link errors since the only libglade which is
	picked up is the real libglade.a whereas the Haskell binding is
	never found.
	
2004-04-17 Axel Simon <A.Simon@kent.ac.uk>

	* VERSION: bumped to 0.9.5

2004-04-16 Duncan Coutts <duncan@coutts.uklinux.net>

	* gtk/layout/Notebook.chs: added ifdef's for compatibility
	with gtk 2.4 as well as 2.2 & 2.0

	* sourceview/SourceIter.chs: new file with bindings for
	three extra TextIter methods

	* sourceview/Makefile: added header for extra file

	* sourceview/sourceview.h: added header for extra file

	* sourceview/SourceView.chs: added extra exported module

2004-04-15 Duncan Coutts <duncan@coutts.uklinux.net>

	* modul/WidgetTable.hs: added import of FFI (foreignPtrToPtr)
	for GHC 6.2

2004-01-07 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* c2hs/c/Attrs.hs: Remove a superfluous comma.

	* gtk/general/FFI.hs: Rename unsafeForeignPtrToPtr to
	foreignPtrToPtr for GHC 6.2. 

	* AUTHORS: Mention JP Bernardy who supplied the patch.

2003-12-11 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/hierarchyGen/TypeGen.hs: changed the way the object
	hierarchy is implemented. All classes except GObject now have
	no member functions. The from* to* functions are now ordinary
	functions with a class constraint. This saves carrying around
	so many class dictionaries per object - now only one.

	* configure.in: added libglade detection

	* Makefile: added glade and demo/glade targets

	* mk/config.mk.in: added LIBGLADE_* variables

	* tools/hierarchyGen/hierarchy.list: added GladeXML class

	* glade/Glade.chs: new libglade binding module

	* glade/Makefile: new file

	* demo/glade/Makefile: new file

	* demo/glade/GladeTest.hs: simple demo of Glade functionality

	* demo/glade/simple.glade: glade file used by the demo program

2003-11-26 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/hierarchyGen/TypeGen.hs: added extra commandline parameters
	--lib=<lib> --prefix=<prefix>, which set the c2hs context directive.
	This is needed for libglade bindings.

2003-11-19 Duncan Coutts <duncan@coutts.uklinux.net>

	* tools/hierarchyGen/hierarchy.list: added GtkSourceMarker and
	GtkSourceStyleScheme. The latter is actually an interface, but
	everything implementing a glib-style interface must be a GObject.
	
	* sourceview/Makefile: added SourceStyleScheme-HEADER
	
	* sourceview/SourceMarker.chs: new module, requires recently
	comitted changes to c2hs in order to build ok.
	
	* sourceview/sourceview.h: added missing #include for gtksourcemarker
	
	* sourceview/SourceStyleScheme.chs: removed unnecessary code, now
	that GtkSourceStyleScheme has been added into the hierarchy.list
	
	* sourceview/SourceLanguage.chs: added bindings for more functions,
	mostly related to SourceMarker
	
	* sourceview/SourceBuffer.chs: added remaining function bindings,
	again mostly related to SourceMarker

2003-11-18 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* demo/sourceview/Sourceview.hs: Give an error message if the
	language spec file is not found.
	
2003-11-17 Axel Simon <A.Simon@kent.ukc.ac.uk>
	
	* c2hs/gen/GenBind.hs: Do not peek through C typedefs when
	determining the C type equivalent of a Haskell type. This corrects
	a problem with GtkSourceViewMarker which is a typedef of
	GtkTextMark. c2hs generated an interface file which said that all
	GtkTextMarks are now SourceViews in Haskell. This was a bug in
	c2hs.

	* sourceview/SourceLanguagesManager.chs: Completed
	sourceLanguagesManagerGetLangFilesDirs.

	* mk/library.mk: Install one file and one directory at a time. The
	local install-sh script cannot cope with more.
	
	* configure.in: Mange Cygwin paths properly. Not tested. Remove
	unused substitutions.
	
	* tools/hierarchyGen/TypeGen.hs: Make parser accept both "if" and
	"as" statements.

	* sourceview/sourceview.h: Added the gtksourceviewmarker.h to the
	include file list.

	* hierarchyGen/hierarchy.list: Added SourceviewMarker.

2003-11-16 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* configure.in, INSTALL: Documentation updates. In particular, the
	user has to do a make and then a make install.
	
	* configure.in: Force Unix library names when using ghc <6.0.

	* c2hs/C/CParser.hs: Fix the parsing of __attribute__, necessary
	for Windows.

	* mk/library.mk: Uncomment the path mangeling. On Windows this
	is still mandatory as /d/ has to be turned into d:/ when generating
	package.conf files.

	* mk/config.in, mk/library.mk, install-sh: Make sure the package
	installs if the local install-sh script is used. Added different
	variables for the install command, depending on what is installed.
	Updated install-sh with a newer version.
	
	* gtk/layout/Notebook.chs: The function notebookGetNPages does not
	exist in Gtk 2.0. Do not bind it in this case.
	
2003-11-15 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* INSTALL: Add instructions for Windows.
	
	* Makefile: Only build Sourceview if ENABLE_SOURCEVIEW is set.
	
	* mk/recurse.mk: Add a distclean goal that removes the
	localpackage.conf file. Make the build stop if there is an error
	in one of the subdirectories.

	* gtk/treeView/TreeSelection.chs: Remove a deprecated warning.
	
	* configure.in: Closed a case expression. Simplified and corrected
	the search for XML catalog files.

	* gtk/Makefile, sourceview/Makefile: Make them use the tools in
	tools/callbackGen and tools/hierarchyGen.
	
	* tools/typehier, tools/signals, tools/hierarchyGen,
	tools/callbackGen: Moved this files to a different
	directory. Reason: Everytime I remove the two directories typehier
	and signals from gtk/, CVS removes them from tools.
	
	* tools/typehier/TypeGen.hs: Renamed file to sort out CVS problem.

2003-11-11  Jens Petersen  <petersen@haskell.org>

	* demo/sourceview: New directory for import of sourceview demo
	program by Duncan Coutts <duncan.coutts@worcester.oxford.ac.uk>.

	* demo/sourceview/haskell.lang: New file giving haskell
	highlighting syntax for gtksourceview.

	* demo/sourceview/SourceViewTest.hs: New file to demonstrate
	sourceview.

	* demo/sourceview/Makefile: New file.
	
	* sourceview/SourceTag.chs (sourceTagSetStyle): Fix docu typo.

	* sourceview/Makefile (EXTRA_HFILES): Use relative path.
	(EXTRA_TARFILES): Not needed.
	(EXTRA_CPPFLAGS): Use SOURCEVIEW_CFLAGS instead.
	(EXTRA_LIBS): Use SOURCEVIEW_LIBS instead.

	* mk/recurse.mk (all): Add MAKE_DOCS.
	(inplace): Ditto.
	(noinplace): Ditto.
	(tarsource): Ditto.
	(clean): Ditto.

	* mk/library.mk	(installdirs): Reorder directories.

	* mk/config.mk.in (SOURCEVIEW_LIBS): Define.
	(SOURCEVIEW_CFLAGS): Ditto.

	* mk/common.mk: Fixes so that per package INSTALLDIR works:
	(INSTALLDIROK): Is now a deferred variable.
	(INST_*): Not passed through SEDPIPE for now.

	* gtk2hs.spec.in (%build): Instead of "--with c2hs" rpmbuild
	option, if %c2hs defined then pass it with --with-c2hs= to
	configure.
	(%install): Install sourceview haskell.lang file.  Clean demo
	to prevent binary files in doc dir.

	* configure.in: Only use GTK for gtk2 package check.  Use GTKGLEXT
	for gtkglext and SOURCEVIEW for gtksourceview, so that sourceview
	cflags and link options do not appear in ghc gtk2 package.  Drop
	unused PIXBUF config vars from GTK config vars.  Process
	SOURCEVIEW config vars in the same way as GTK ones.
	Search for specific external c2hs in PATH, like c2hs is searched
	with --with-c2hs=yes.  Treat "c2hs-gtk2hs" as a exceptional external
	c2hs which supports multiple chs files, allowing one to avoid
	building the internal c2hs on every clean build.

	* Makefile (MAKE_TOOLS): Only add c2hs when BUILT_IN_C2HS is no.
	(MAKE_DOCS): gendoc and doc targets moved here from MAKE_TOOLS since
	doc must be done after gtk.
	(MAKE_APPS): Add demo/sourceview.
	(dist): Depend on gtk2hs.spec.
	(rpm): dist now depends on gtk2hs.spec.
	(srpm): Ditto.
	Include Makefile.local if present for local build configuration.

2003-11-07 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* tools/signals/HookGenerator.hs, tools/signals/Makefile,
	tools/signals/Signal.chs-boot1, tools/signals/Signal.chs-boot2,
	tools/signals/gtkmarshal.list, tools/typehier/Makefile,
	tools/typehier/hierarchy.list: Dah. Removed the wrong files in the
	last commit. Resurrect the right ones.

2003-11-07 Axel Simon <A.Simon@kent.ukc.ac.uk>
	* tools/typehier/TypeGenerator.hs: Correct typo that caused
	Hierarchy.chs to include itself.

	* gtk/Makefile: Use the signal and type hierarchy generators in
	tools/.

	* gtk/typehier, gtk/signals: Remove the stale files.
	
2003-11-04  Jens Petersen  <petersen@haskell.org>

	* mk/config.mk.in (COMMONINSTALLDIR): Define default base package
	directory name.

	* mk/library.mk (INSTALLDIR): Define default package install dir to
	be under COMMONINSTALLDIR.

	* gtk/Makefile (INSTALLDIR): Drop local definition and use default.

	* mogul/Makefile (INSTALLDIR): Ditto.
	
	* sourceview/Makefile (INSTALLDIR): Ditto.

2003-11-03  Jens Petersen  <petersen@haskell.org>

	* gtk2hs.spec.in (BuildRequires): Require gtksourceview-devel.
	(Requires): Require gtksourceview.
	(%post): Install sourceview package.
	(%preun): Remove sourceview package.

	* mk/recurse.mk (install-without-pkg): New target.

	* mk/application.mk ($(TARGETOK)): Depend on inplaceinit to make
	sure required localpackage.conf file exists.
	(install-without-pkg): Alias to install.

	* c2hs/c/CLexer.hs (linedir): Fix parsing for latest cpp #line
	extensions. [upstream patch from Manuel M T Chakravarty]

	* Makefile (EXTRA_TARFILES): Add mk/recurse.mk.

2003-10-02 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* mk/common.mk: Change comments for "targets" help output.

	* sourceview/Makefile: Corrected header file declaration (unused
	at the moment). 

	* gtk/glib/GList.chs: Added methods to marshal from GLists and
	GSLists.
	
	* sourceview/SourceLanguagesManager.chs, sourceview/SourceTag.chs,
	sourceview/SourceTagTable.chs: Added 
	
2003-10-26 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* Makefile, mk/recurse.mk, mk/common.mk: Turn the top-level
	Makefile into a bunch of variable declaration and put the real
	work into mk/recurse.mk. There are three main directories: tools
	which are built first and never installed, libraries which are
	built after the tools installed and registered with ghc and
	applications which are built last and installed.

	* demo/sourceview/Makefile, demo/sourceview/SourceViewTest.hs,
	demo/sourceview/haskell.lang: Added the example for the SourceView
	binding.

	* sourceview/Makefile, sourceview/SourceBuffer.chs,
	SourceLanguagesManager.chs, sourceview/SourceView.chs,
	sourceview/SourceStyleScheme.chs, sourceview/SourceTag.chs,
	sourceview/SourceTagStyle.hsc, sourceview/SourceTagTable.chs: New
	files and patches from Duncan.
	
2003-10-21 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* sourceview/Makefile, sourceview/SourceBuffer.chs,
	sourceview/SourceLanguage.chs,
	sourceview/SourceLanguagesManager.chs, sourceview/SourceView.chs,
	AUTHORS: Added the GtkSourceView widget contributed by Duncan
	Coutts.
	
	* mk/common.mk: Avoid message about several rules for the
	top-level file which are .chs files. This happend since the
	top-level file SourceView.chs is not removed form a list
	containing ./SourceView.chs which is what the wild-card searching
	gives. Solved by stripping the ./ prefix.
	
	* gtk/Makefile, tools/signals/HookGenerator.hs,
	tools/signals/Makefile, tools/signals/Signal.chs-boot1,
	tools/signals/Signal.chs-boot2, tools/signals/gtkmarshal.list,
	tools/typehier/Makefile, tools/typehier/TypeGenerator.hs,
	tools/typehier/hierarchy.list: Moved these file to a new directory
	tools/. The reason for this is that parts of the type hierarchy
	may only be generated if a specific widget is built, in this case
	it's GtkSourceview.
	
	* gtk/multiline/TextBuffer.chs: Use TextBufferClass tb => tb
	instead of TextBuffer as type for the Textbuffer.
	
	* gtk/abstract/Container.chs, gtk/multiline/TextIter.chs: Fix
	warning about deprecated FFI construct for GHC 6.0.

2003-08-09  Jens Petersen  <petersen@haskell.org>

	* gtk/multiline/TextView.chs (textViewGetVisibleRect): Fix docu typo.

2003-08-02  Jens Petersen  <petersen@haskell.org>

	* gtk/multiline/TextBuffer.chs (textBufferGetCharCount): Call
	text_buffer_get_char_count not text_buffer_get_line_count.

2003-07-31  Jens Petersen  <petersen@haskell.org>

	* gtk2hs.spec.in: Default to ghc-6.0.1.
	(%files): Include demo as dir in docs rather than individual
	source files.

	* Makefile (inplace): Do not build the demos by default.
	(noinplace): Ditto.
	(demo): New separate target to build demos.
	(install*): Drop no-op for demos.
	(uninstall): Ditto.

2003-07-18 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* VERSION: Bumped to 0.9.4, prepare to do a ghc-6.0 release.
	
	* mk/common.mk: Make hsc2hs pass -no-hs-main to ghc when linking.
	This avoids an undefined symbol error for the Haskell main
	function on Apple and Solaris.

	* gtk/Makefile: Added the header file for gdk-pixbuf.

2003-07-15  Jens Petersen  <petersen@haskell.org>

	* mk/library.mk (install-without-pkg): New target that installs
	library without installing ghc package.
	(install): Use it.

	* gtk2hs.spec.in: Default to ghc-6.0 now.  Split binary package
	into -ghc%{ghc_version} and -doc subpackages.  Disable building of
	debuginfo subpackage.
	(%install): Use install-without-pkg.
	(%preun): Only remove object files when uninstalling.

	* Makefile (install-without-pkg): New target; like install but it
	does not install the ghc library packages.

2003-07-13 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* gtk/misc/Arrow.chs, gtk/general/Gtk.hs: Changed the name of the
	file to GArrow.chs to avoid the clash with Arrow in hslibs of GHC.

	* mk/library.mk: Remove the target install from install-pkg and
	add the target install-pkg to install. Without this, the files are
	copied but the package file is not updated.

	* gtk/signals/HookGenerator.hs.in: Removed this file which should
	have happened a long time ago. HookGenerator.hs is the only file
	needed.
	
2003-07-09 Axel Simon <A.Simon@kent.ukc.ac.uk>
	
	* c2hs/gen/GBMonad.hs, c2hs/gen/GenBind.hs: Applied the patch I
	wrote for c2hs 0.11.5 which created code for ForeignPtrs which is
	compatible with the new FFI of GHC 6.0.

	* abstract/Box.chs, abstract/Container.chs, abstract/Misc.chs,
	abstract/Object.chs, abstract/Paned.chs, abstract/Range.chs,
	abstract/Scale.chs, abstract/Scrollbar.hs, abstract/Separator.hs,
	abstract/Widget.chs, buttons/Button.chs, buttons/CheckButton.chs,
	buttons/RadioButton.chs, buttons/ToggleButton.chs,
	display/AccelLabel.chs, display/Image.chs, display/Label.chs,
	display/ProgressBar.chs, display/Statusbar.chs,
	embedding/Embedding.hsc, embedding/Plug.chs, embedding/Socket.chs,
	entry/Entry.chs, entry/HScale.chs, entry/SpinButton.chs,
	entry/VScale.chs, gdk/DrawWindow.hs, gdk/Drawable.chs,
	gdk/Events.hsc, gdk/GC.chs, gdk/Gdk.chs, gdk/GdkEnums.chs,
	gdk/Keys.chs, gdk/Pixbuf.chs, gdk/Region.chs, general/Enums.chs,
	general/General.chs, general/Gtk.hs, general/IconFactory.chs,
	general/StockItems.hsc, general/Structs.hsc, general/Style.chs,
	glib/GList.chs, glib/GObject.chs, glib/GType.chs, glib/GValue.chs,
	glib/GValueTypes.chs, layout/Alignment.chs,
	layout/AspectFrame.chs, layout/HBox.chs, layout/HPaned.chs,
	layout/Layout.chs, layout/Notebook.chs, layout/Table.chs,
	layout/VBox.chs, layout/VPaned.chs,
	menuComboToolbar/CheckMenuItem.chs, menuComboToolbar/Combo.chs,
	menuComboToolbar/ImageMenuItem.chs, menuComboToolbar/Menu.chs,
	menuComboToolbar/MenuBar.chs, menuComboToolbar/MenuItem.chs,
	menuComboToolbar/MenuShell.chs, menuComboToolbar/OptionMenu.chs,
	menuComboToolbar/RadioMenuItem.chs,
	menuComboToolbar/TearoffMenuItem.chs,
	menuComboToolbar/Toolbar.chs, misc/Adjustment.chs, misc/Arrow.chs,
	misc/Calendar.chs, misc/DrawingArea.chs, misc/EventBox.chs,
	misc/HandleBox.chs, misc/Tooltips.chs, misc/Viewport.chs,
	multiline/TextBuffer.chs, multiline/TextIter.chs,
	multiline/TextMark.chs, multiline/TextTag.chs,
	multiline/TextTagTable.chs, multiline/TextView.chs,
	ornaments/Frame.chs, ornaments/HSeparator.chs,
	ornaments/VSeparator.chs, pango/Markup.hs, pango/PangoLayout.chs,
	pango/PangoTypes.chs, pango/Rendering.chs,
	scrolling/HScrollbar.chs, scrolling/ScrolledWindow.chs,
	scrolling/VScrollbar.chs, signals/HookGenerator.hs,
	signals/Signal.chs-boot1, signals/Signal.chs-boot2,
	treeList/CellRenderer.hs, treeList/CellRendererPixbuf.chs,
	treeList/CellRendererText.chs, treeList/CellRendererToggle.chs,
	treeList/ListStore.chs, treeList/StoreValue.hsc,
	treeList/TreeModel.chs, treeList/TreeModelSort.chs,
	treeList/TreeSelection.chs, treeList/TreeStore.chs,
	treeList/TreeView.chs, treeList/TreeViewColumn.chs,
	typehier/TypeGenerator.hs, windows/Dialog.chs,
	windows/FileSel.chs, windows/Window.chs: Make compile with GHC
	6.00. There are two major changes in the FFI which made me
	separate everything that has to do with Foreign and Foreign.C into
	a new file called general/FFI.hs. The file UTFCForeign.hs is now
	obsolete as its string conversion functions are now in FFI.hs. The
	nullForeignPtr function is also located here. All files now import
	FFI instead of Foreign and UTFCForeign. The major changes are:
	newForeignPtr now takes a pointer to a C function as
	finalizer. Every destructor function is now defined differently
	depending on whether the new GHC is used or not. In particular
	there is now a function called free :: Ptr a -> IO () imported
	from the Foreign library. In addition to that I defined a function
	foreignFree which can be used as finalizer to a C data
	structure. It is equivalent to free if GHC version <=5.04 is
	used. The second change is that ForeignPtr are no longer accepted
	as arguments to foreign calls. This change is mainly reflected in
	c2hs, but also in some files which directly called functions.
	
2003-07-04 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* configure.in mk/config.mk.in mk/library.mk: Turned the
	--list-packages into a parameter which is determined by
	configure. The reason is that ghc 6 has a new semantic for
	ghc-pkg's --list-packages option.
	
2003-07-03  Jens Petersen  <petersen@haskell.org>

	* mogul/Makefile (INSTALLDIR): Set to mogul, so that mogul gets
	installed in its own subdir.

	* gtk/layout/Notebook.chs (notebookGetNPages): New function.
	Export it.

	* gtk/general/Gtk.hs: Import and re-export Gdk.

	* gtk/gdk/Gdk.chs: New module for gdk.h.  Currently just provides beep.

	* gtk/gdk/Drawable.chs (drawPixbuf): Doc fix: s/arg src/arg pb/.

	* gtk/Makefile: Define Pixbuf-HEADER and Gdk-HEADER.

	* gtk2hs.spec.in (Requires): Require ghc5.  Post and preun require
	ghc-pkg.
	(build): Configure --with-hc.
	(preun): Ignore package removal errors.

	* configure.in: --with-hc no longer requires a full-path, when
	requested compiler is in path.  When looking for HOpenGL pass "-l"
	to ghc-pkg, since "--list-packages" confuses ghc-pkg-6.0 built
	with ghc5.

	* VERSION: Bump version to 0.9.3.50.

	* Makefile (dist): LN already includes the "-s" option.

2003-05-23  Jens Petersen  <petersen@redhat.com>

	* gendoc/XMLwrite.hs (makeSymDescr): Move colspecs inside the
	tgroup.

	* doc/Makefile (html%): Make xsltproc write output directly to
	subdirectory.  Create the directory first if necessary.
	(fo%): Ditto.
	(clean): Remove reference xml files.

	* gtk2hs.spec.in (build): Pass docbook catalog and html xsl to
	configure and build html docs.
	(post): Give "-g" option to ghc-pkg to have ghci object files
	generated.
	(preun): Always remove any old ghci object files.
	(files): Include gtk and mogul docs in doc dir.
	
	* Makefile (EXTRA_TARFILES): Include gtk2hs.spec after all.

2003-05-22 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* gtk/treeList/TreeView.chs: Changed the return type of the
	onTestCollapseRow and onTestExpandRow signals. Patch submitted by
	Duncan Coutts <duncan@coutts.uklinux.net>.
	
2003-05-19 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* configure.in, mk/config.mk.in: Changed SGML_CATALOG_FILES to
	XML_CATALOG_FILES.

	* gtk/general/Gtk.hs: removed the hiding clause from Image. Don't
	know why it was there in the first place.
	
2003-05-18  Jens Petersen  <petersen@redhat.com>

	* gtk/pango/PangoLayout.chs (layoutIterGetLineExtents): Keep last
	doc ref on one line.
	(layoutCopy): Fix doc typo in data ref.

	* gtk/general/StockItems.hsc: s/method stockAdd/method stockAddItem/.

	* doc/mogul.xml: Docbook 4.2.

2003-05-17 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* gtk/gdk/Pixbuf.chs: Fixed documentation on creating inline pictures.

2003-05-17 Axel Simon <A.Simon@kent.ukc.ac.uk>

	0.9.3 release.

	* c2hs/base/syntax/Lexer.hs: There is a bug in either c2hs or the
	compiler when parsing the header files on PowerPC. I added a line
	which stops c2hs from panicing without understanding what is going
	on.

	* gendoc/Lexer.hs, gendoc/Update.hs, gendoc/XMLwrite.hs: Improved
	the documentation. It's still very rudimentary but might be
	useful.

	* gtk/gdk/Pixbuf.chs, gtk/general/Structs.hsc: Documentation fixes.
	
2003-05-16 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* AUTHORS: Add Vincenzo.

	* gtk/Makefile, gtk/gdk/Drawable.chs, gtk/gdk/GdkEnums.chs,
	gtk/general/Gtk.hs, gtk/general/Structs.hsc, gtk/gdk/Pixbuf.chs,
	configure.in, mk/config.mk.in: Add a good share of the pixbuf
	functions. Realize that the pixbuf library is always available
	when Gtk is installed, thus removed its detection from the
	configure script.

	* gtk/general/Style.chs: Add some more elements.

	* doc/Makefile: Remove -net. Oddly enough the whole translation
	process falls over if the DTD cannot be found. Worse xsltproc
	cannot read the CATALOG file, it seems to expect something in XML.

	* doc/gtk2hs.xml: Require Docbook 4.2.

	* gendoc/Abstract.hs, gendoc/Lexer.hs, gendoc/Parser.hs,
	gendoc/State.hs, gendoc/Update.hs, gendoc/XMLwrite.hs: Fixed
	layout and parser bugs, started to print data types.

	* gtk/gdk/Pixbuf.chs, gtk/general/StockItems.hsc,
	gtk/general/Structs.hsc, gtk/general/Style.chs,
	gtk/pango/PangoTypes.chs, gtk/treeList/TreeView.chs: Fixed
	documentation bugs.
	
2003-05-16  Jens Petersen  <petersen@redhat.com>

	* doc/Makefile (html%): Just write dependency as reference%.xml.
	(fo%): Ditto.

	* Makefile (EXTRA_TARFILES): Exclude spec file after all.
	(dist): Don't depend on spec file.
	(rpm): Depend on spec file.  Build from it and not the tarball.
	(srpm): Ditto.
	(gtk2hs.spec): Depend on VERSION.

	* mk/library.mk: Introduce DESTDIR variable for installing into a
	staging area or buildroot.
	(installdirs): Prefix dirs with DESTDIR.
	(installfiles): Prefix DESTDIR to destinations.
	(uninstallfiles): Add DESTDIR here too for good measure.

	* gtk/treeList/TreeView.chs: Documentation formatting fixes.

	* gtk/pango/PangoLayout.chs (layoutSetWidth): Fix doc typo.

	* gtk/general/Structs.hsc: Documentation fixes: s/@con/@constructor/.

	* doc/Makefile (html%): Only depend on the xml file for the target
	to be transformed.

	* gtk2hs.spec.in (Release): Append date for snapshot packages.
	(install): Use DESTDIR.
	(post): Hence no longer need to filter out buildroot prefix from
	pkg config files.
	(preun): Only remove ghc pkg configs when removing rpm package.

	* Makefile (dist): Add spec file as dependency.
	(rpm): Depend on dist target not tarball.
	(srpm): Ditto.
	(gtk2hs.spec): Target to generate spec file.

2003-05-10  Jens Petersen  <petersen@redhat.com>

	* mk/library.mk (install): Weaken to an install suitable for
	packaging in a buildroot, ie do not install the package config
	file into the buildroot.
	(installfiles): Install package config file too.
	(installpackage): Rename to "$(PACKAGENAME).conf".  Write pkg config
	to target, rather than installing directly in compiler's packages
	list.
	(install-pkg): New target.  Installs pkg config file into
	compiler's packages list.
	(uninstall): New target.  Unstalls files and removes package from
	compiler's packages list.
	($(TARGETOK)): Remove $(PACKAGENAME).conf so that it will be
	regenerated.

2003-05-09 Axel Simon <A.Simon@kent.ukc.ac.uk>

	* mk/common.mk: Run hsc2hs only with the libraries in CFLAGS not
	with other optimization/debugging options happening to be in
	there.

2003-05-08  Jens Petersen  <petersen@redhat.com>

	* gtk/treeList/TreeSelection.chs (onChanged): Renamed
	to onSelectionChanged since it conflicted with TextBuffer export.
	(afterChanged): Ditto to afterSelectionChanged.

	* gtk/multiline/TextBuffer.chs: Export all the signal event
	handling functions: onApplyTag, afterApplyTag, onBeginUserAction,
	afterBeginUserAction, onBufferChanged, afterBufferChanged,
	onDeleteRange, afterDeleteRange, onEndUserAction,
	afterEndUserAction, onInsertPixbuf, afterInsertPixbuf,
	onInsertText, afterInsertText, onMarkDeleted, afterMarkDeleted,
	onMarkSet, afterMarkSet, onModifiedChanged, afterModifiedChanged,
	onRemoveTag, afterRemoveTag.
	Rename onChanged and afterChanged to onBufferChanged and
	afterBufferChanged respectively.

	* gtk2hs.spec.in: Use ghc 5.04.3.
	Move perl buildroot prefix cleaning of package conf files into
	post-install script.

	* Makefile (EXTRA_TARFILES): Add gtk2hs.spec.in and gtk2hs.spec.
	(dist): Remove dist dir recursively.
	(rpm): New target.
	(srpm): Ditto.

	* AUTHORS: Update.

2003-05-15  Axel Simon <A.Simon@ukc.ac.uk>

	* configure.in, mk/config.mk.in: Improved detection of OpenGl and
	GLExt.

	* mk/common.mk, mk/library.mk: Remove stale .hs files when c2hs
	fails.
	
2003-03-24  Axel Simon <A.Simon@ukc.ac.uk>

	* demo/concurrent/Progress.hs, demo/graphic/Drawing.hs
	demo/treeList/ListTest.hs, demo/unicode/Arabic.hs,
	gtk/general/StockItems.hsc: the stockButton... constants have
	gone, updated the demos.

	* gtk/treeList/TreeView.chs: Removed a type error when compiling
	with Gtk 2.2.

	* gtk/Makefile: Add GObject to the needed CHI files.
	
2003-03-24  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/general/Style.chs: Forgot to add this file.

	* gtk/general/StockItems.hsc, gtk/glib/GList.chs,
	gtk/menuComboToolbar/Toolbar.chs: Completed the list of stock
	items. Removed bugs in GList module. Changed name of stockAdd to
	stockAddItem due to clash with the constant stockAdd. Renamed
	stockLookup to stockLookupItem for symmetry. Had to change Toolbar
	for this to work.
	
2003-03-21  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/gdk/Events.hsc: Forgot to export enumerations from GdkEnum

	* gtk/Makefile: Add Pango HEADER definitions. Change the location
	of wingtk.h when creating a TAR ball. Add an explanation on how
	the HEADER definitions work.

	* demo/treeList/ListTest.hs: Added a callback that says onto which
	cell the user right-clicks.

	* demo/concurrent/Progress.hs: Imported Struct. Should sort out
	the module imports in Gtk.hs.

	* Makefile: add the concurrent demo.

	* VERSION: Bump to 0.9.3 in expectation of a new release.
	
2003-03-20  Axel Simon <A.Simon@ukc.ac.uk>

	* mk/common.mk: Removed ./ and blah/.. in file names when creating
	tar balls.

2003-03-10  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/signals/Signal.chs-boot2, gtk/general/Gtk.hs: Added a
	function to disconnect a signal.

	* mogul/TreeList.hs, mogul/Mogul.hs: Added changed the TreePath
	from Gtk to Mogul style. Patch by Duncan Coutts.
	
2003-03-08  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/abstract/Widget.chs, gtk/general/Enums.chs,
	gtk/general/Gtk.hs, gtk/general/Structs.hsc,
	gtk/treeList/TreeModel.chs, gtk/treeList/TreeView.chs: Completed
	TreeView.chs with the exception of DND support.

2003-02-27  Axel Simon <A.Simon@ukc.ac.uk>

	* demo/concurrent/Progress.hs demo/concurrent/Makefile: Added an
	example how concurrent Haskell threads can be run even if Gtk's
	main loop is running.

	* gtk/general/General.chs: Exported the three different priorities
	for idle handlers from Struct.hsc.
	
2003-02-10  Axel Simon <A.Simon@ukc.ac.uk>

	* demo/graphic/Drawing.hs gtk/gdk/Drawable.chs
	gtk/pango/PangoLayout.chsgtk/typehier/hierarchy.list
	gtk/pango/PangoTypes.chs: Completed PangoLayout as far as possible.
	Make the Drawing demo display some text.

2003-02-09  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/abstract/Widget.chs gtk/general/Gtk.hs
	gtk/general/Structs.hsc gtk/glib/GList.chs gtk/pango/Markup.hs
	gtk/pango/Rendering.chs gtk/pango/PangoLayout.chs: Started on the
	layout functions of Pango to draw text.
	
2003-02-07  Axel Simon <A.Simon@ukc.ac.uk>

	* mk/config.mk.in: added the variable CC so that the C compiler
	can be overridden with CC=blah ./configure

	* configure.in: don't call SUBST on GTK_CFLAGS and GTK_LIBS since
	it's done by the GTK macros earlier

2003-01-22  Axel Simon <A.Simon@ukc.ac.uk>

	* gendoc/Makefile: forgot to add this file.
	
2003-01-21  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/wingtk.h: This file is needed for building on Windows. It
	disables a check of gtk_init_check to see whether the header has
	been compiled with Microsoft bitfields (which is true for hsc2hs
	where we mangle structure but false for c2hs where we call this
	function.)
	
	* gtk/Makefile: Inadvertently put hierarchy.list on the list of
	files to be wiped with make clean. Removed that again.

	* aclocal.m4 configure.in acinclude.m4 mk/config.mk.in
	mk/library.mk mk/common.mk: Changed the configuration
	infrastructure. aclocal.m4 is created by running aclocal, thus
	shouldn't really be in CVS. The package specific macros are now
	correctly in include.m4. configure.in changed so that is has
	options for GLArea and GdkPixbuf which can now selectively be
	enabled (though there is no code yet). The Makefiles have two new
	flags called ENABLE_GLAREA and ENABLE_PIXBUF which are set to yes
	or no. Fixed a bug in mk/library.mk that generated a bogus
	subsystem argument to the linker.

	* c2hs/chs/CHS.hs: Change c2hs so that is recognizes an OPTIONS
	-cpp pragma like ghc's. If this pragma is specified the Haskell
	program is run through CPP before the hooks are expanded. This is
	necessary for some files where the API changed between Gtk version
	2.0 and 2.2.

	* gtk/embedding/Plug.chs gtk/embedding/Socket.chs
	gtk/embedding/Embedding.hsc: Resurrected their functionality under
	Unix. The Plug was moved from windows/ to embedding/ so it could
	be selectively compiled, i.e. the whole embedding directory is
	left out on Windows.
	
2003-01-20  Axel Simon <A.Simon@ukc.ac.uk>

	* configure.in: Corrected wrongly escaped hash sign which serves as
	a comment to sed.

2003-01-19  Axel Simon <A.Simon@ukc.ac.uk>

	* configure.in, gtk/Makefile, gtk/general/Gtk.hs, mk/common.mk,
	mk/library.mk, mk/config.mk.in: Adapt the configuration system
	to work differently on Windows. Fixed some installation issues.

	* mogul/GetWidget.hs mogul/Mogul.hs, mogul/NewWidget.hs: As
	a temporary fix, I commented out the Plug and Socket modules. 

	* demo/graphic/Drawing.hs: make sure that main has type IO ().

	* Makefile, doc/Makefile: Add docs to the tar ball.

	* gtk/typehier/TypeGenerator.hs, gtk/Makefile: Selectively create
	the types GtkPlug and GtkSocket, depending on whether we are
	compiling on Windows or not.

2003-01-18  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/windows/Plug.chs, gtk/embedding/Plug.chs: Moved this file
	to make compiling on Windows easier (omit embedding/ completely)

	* c2hs/c/CParser.hs: Fixed a parser bug for gcc extensions which
	became apparent when compiling on Windows (__dllexport).

	* gtk/general/Structs.hsc, gtk/embedding/Sockets.chs: Quick fix
	to compile on Windows. Declarations in Structs need to be moved
	to embedding/ so it is left out when compiling on Windows.

2003-01-11  Jens Petersen  <petersen@haskell.org>

	* gtk/treeList/TreeStore.chs (treeStoreRemove): lift to Bool

	* gtk/treeList/ListStore.chs (listStoreRemove): lift to Bool

	* gtk/general/Structs.hsc (fromResponse): parenthesize
	ResponseUser i and add fromIntegral on rhs
	(toResponse): add fromIntegral for ResponseUser

	* demo/graphic/Drawing.hs (main): use ResponseOk

2003-01-10  Jens Petersen  <petersen@haskell.org>

	* configure.in: add gtk2hs.spec to output list

	* gtk2hs.spec.in: new file to generate a project rpm spec file

2003-01-10  Jens Petersen  <petersen@haskell.org>

	* demo/unicode/Arabic.hs (main): use ResponseYes, ResponseCancel
	and ResponseOk

	* gtk/windows/Dialog.chs: import and re-export ResponseId instead
	of responseName's.  import fromResponse and toResponse.
	(dialogRun): use toResponse
	(dialogResponse): use fromResponse
	(dialogAddButton): use fromResponse
	(dialogAddActionWidget): use fromResponse
	(dialogSetDefaultResponse): fromResponse
	(dialogSetResponseSensitive): fromResponse
	(onResponse, afterResponse): toResponse

	* gtk/general/Structs.hsc: export fromResponse and toResponse,
	instead of all the responseName's.  ResponseId is now a datatype.
	fromResponse converts from a ResponseId to the corresponding gtk
	constant values.  toResponse does the reverse map.  ResponseUser
	Int carries positive integer user defined responses.  fromResponse
	and toResponse are only defined for positive integers.

2002-12-19 Axel Simon <A.Simon@ukc.ac.uk>

	* VERSION, INSTALL: bump version, tweak instructions

	* doc/Makefile: create the subdirectories before copying

	* Makefile: make all also builds documentation, use proper names
	for the reference pages

	* gendoc/XMLwrite.hs: insert the name of the current node into
	each reference page.

	* gtk/menuComboToolbar/MenuBar.chs, gtk/abstract/Paned.chs: Docu
	fix, gave the widgets propper names.
	
2002-12-16 Axel Simon <A.Simon@ukc.ac.uk>

	* gendoc/PrettyLib.hs: convert from PackedString to normal String

	* gendoc/Update.hs, gendoc/XMLwrite.hs: add hyperlinks between
	from synopsis and tried to link arguments to types.
	
	* doc/Makefile doc/gtk2hs.xml doc/mogul.xml: Added documentation.

	* gtk/treeList/TreeModel.chs: Added two functions and export the
	function gtk_tree_model_get_iter_from_string for
	CellRendererText.chs

	* gtk/treeList/CellRendererText.chs: use the bare function from
	TreeModel.chs to avoid converting the C string to Haskell and
	back.
	
	* configure.in: Changed the test for c2hs, so that it can cope with:
	"0.10.17 [compiled for GHC 5.04]", urk.

	* mk/comon.mk: repaired building with external c2hs, specifically,
	the -o : option is not understood by normal c2hs.

	* gtk/Makefile: added the -HEADER definition for all the files
	which where added since the last time someone compiled with
	external c2hs (most notably Region.chs, where the build falls
	over).
	
2002-12-10 Axel Simon <A.Simon@ukc.ac.uk>
	
	* mk/config.mk.in, mk/library.mk: Separated out targets for
	installing packages and files. This is an attempt to simplify the
	creation of RPMs and Debian packages. Removed interactiveInstall
	for now since ghci still does not work with -package gtk2 or
	-package mogul.

2002-12-04 Axel Simon <A.Simon@ukc.ac.uk>

	* mk/library.mk: update the time of the copied library file so
	that it compiles on Darwin
	
2002-12-03 Axel Simon <A.Simon@ukc.ac.uk>

	* config.guess, config.sub: updated from GNU website

	* gtk/treelist/TreeModelSort.chs, gtk/gdk/DrawWindow.hs:
	  added, should have been there before!
	
2002-12-01 Axel Simon <A.Simon@ukc.ac.uk>

	* demo/graphic/Drawing.hs demo/hello/World.hs
	demo/treeList/ListTest.hs demo/unicode/Arabic.hs
	gtk/general/General.chs gtk/treeList/ListStore.chs
	mogul/WidgetTable.hs: Changed the initialization and the main loop
	function again.
	
2002-11-08 Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/menuComboToolbar/Menu.chs gtk/treeList/ListStore.chs
	gtk/treeList/TreeModel.chs: Documentation changes.

2002-11-11 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/general/General.chs: Changed the initialization and main
	loop functions. They now have names which do not clash with the
	Prelude.

	* Makefile: Include the two demos "graphics" and "treeList".

	* demo/graphic/Drawing.hs demo/hello/World.hs
	demo/treeList/ListTest.hs demo/unicode/Arabic.hs: Reflect the
	change to the main loop functions.
	
2002-11-08 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/Abstract.hs gendoc/Driver.hs gendoc/Lexer.hs
	gendoc/Parser.hs gendoc/State.hs gendoc/Update.hs
	gendoc/XMLwrite.hs gtk/abstract/Box.chs gtk/abstract/Range.chs
	gtk/abstract/Widget.chs gtk/buttons/Button.chs
	gtk/display/Label.chs gtk/entry/Entry.chs gtk/gdk/Drawable.chs
	gtk/gdk/Events.hsc gtk/gdk/GC.chs gtk/general/General.chs
	gtk/general/Gtk.hs gtk/general/IconFactory.chs
	gtk/general/Structs.hsc gtk/layout/Layout.chs
	gtk/menuComboToolbar/CheckMenuItem.chs
	gtk/menuComboToolbar/ImageMenuItem.chs
	gtk/menuComboToolbar/Toolbar.chs gtk/misc/DrawingArea.chs
	gtk/misc/HandleBox.chs gtk/misc/Viewport.chs
	gtk/multiline/TextBuffer.chs gtk/multiline/TextIter.chs
	gtk/multiline/TextView.chs gtk/pango/Markup.hs
	gtk/scrolling/ScrolledWindow.chs gtk/windows/Window.chs: More
	documentation fixes.

	* gtk/signals/gtkmarshal.list gtk/treeList/CellRenderer.hs
	gtk/treeList/CellRendererPixbuf.chs
	gtk/treeList/CellRendererText.chs
	gtk/treeList/CellRendererToggle.chs gtk/treeList/TreeModel.chs
	gtk/treeList/TreeView.chs gtk/treeList/TreeViewColumn.chs
	mogul/Mogul.hs mogul/TreeList.hs: Changed the internals of
	Attributes in CellRenderer. This now allows to set Just
	<something> for e.g. a color or the editable flag (for which both
	"editable" and "editable-set" have to be modified). Added the
	onEdited signal.
	
2002-11-04 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/multiline/TextView.chs, general/Enums.chs, general/Gtk.hs:
	Completed TextView as far as possible.

	* gendoc/ XMLwrite.hs Abstract.hs Lexer.hs Parser.hs PrettyLib.hs:
	Switched to Olaf's Pretty Printing library. GHC's library seems to
	be broken (combinators are not associative). The right combinators
	still seem to be lacking.

	* general/Structs.hsc glib/GList.chs glib/GObject.chs
	glib/GType.chs glib/GValue.chs glib/GValueTypes.chs
	menuComboToolbar/Menu.chs misc/DrawingArea.chs misc/HandleBox.chs
	multiline/TextIter.chs typehier/TypeGenerator.hs
	windows/Dialog.chs: documentation fixes

	* mk/library.mk: i
	
2002-10-21  Jens Petersen  <petersen@haskell.org>

	* mogul/NewWidget.hs (newLayout): Take Maybe Adjustment's.

	* gtk/layout/Layout.chs: Import fromMaybe and nullForeignPtr.
	(layoutNew): Use them for Maybe Adjustment arguments.

	* gtk/abstract/Widget.chs (onGrabFocus, afterGrabFocus):
	Fix to use connect_NONE__NONE, since "grab_focus" event handler
	is just IO ().

2002-10-20 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/Abstract.hs XMLwrite.hs gtk2hs.xml: This version uses the
	unmodified version of Docbook. I'm still haveing trouble with the
	pretty-printer library (and with Docbook itself, of course).
	
2002-10-19 Axel Simon <A.Simon@ukc.ac.uk> 

	* gendoc/ Abstract.hs Driver.hs Lexer.hs Parser.hs State.hs
	Update.hs XMLwrite.hs gtk2hs.xml: Machinery to generate
	documentation from the comments in the binding. I just decided to
	use the original Docbook without any Haskell specific
	additions. So this first version tries to define and use a
	modified version of Docbook.
	
2002-10-06 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/multiline/TextView.chs: Completed functionality and added
	all signals.

	* gtk/abstract/Container.chs gtk/display/Image.chs
	gtk/general/Gtk.hs gtk/general/Structs.hsc gtk/misc/Tooltips.chs
	gtk/multiline/TextBuffer.chs gtk/multiline/TextIter.chs
	gtk/multiline/TextView.chs gtk/treeList/TreeView.chs
	gtk/typehier/TypeGenerator.hs gtk/typehier/hierarchy.list 

	Added Files: gtk/gdk/Drawable.chs gtk/gdk/GC.chs gtk/gdk/Keys.chs

	Removed Files: gtk/gdk/GdkDrawable.chs gtk/gdk/GdkGC.chs
	gtk/gdk/GdkKeys.chs: Get rid of any Gdk prefix in types and module
	names.

2002-10-01 Axel Simon <A.Simon@ukc.ac.uk> 

	* gtk/gdk/GdkEnums.chs, gtk/general/Gtk.hs,
	gtk/general/Structs.hsc, gtk/Makefile, gtk/gdk/GdkGC.chs,
	gtk/gdk/GdkDrawable.chs,gtk/gdk/Region.chs,
	gtk/general/Structs.hsc, gtk/typehier/hierarchy.list,
	gtk/misc/DrawingArea.chs: Added the capabilities to do user
	specified widgets.

	* demo/graphic/Drawing.hs demo/graphic/Makefile Makefile: Added a
	demonstration of how to use the DrawingArea widget.
	
2002-08-20  Jonas Svensson <d99josve@dtek.chalmers.se>

        * gtk/abstract/Widget.chs: Added widgetSetSizeRequest function.

2002-08-15  Jonas Svensson <d99josve@dtek.chalmers.se>

        * gtk/menuComboToolbar/ImageMenuItem.chs: Changed type from
        Image to Widget on get/setImage functions. Changed getImage
        to return IO (Maybe Widget).

2002-08-13  Axel Simon <A.Simon@ukc.ac.uk> on behalf of 
	    Jonas Svensson <d99josve@dtek.chalmers.se>
	
        * gtk/Makefile: Added ImageMenuItem to list of moduels

        * gtk/typehier/hierarchy.list: Added GtkImageMenuItem
 
        * gtk/general/Gtk.hs: Now imports and exports ImageMenuItem

        * gtk/menuComboToolbar/ImageMenuItem.chs: Implementation of
          the GtkImageMenuItem widget.
	
2002-08-12  Axel Simon <A.Simon@ukc.ac.uk>
	* gtk/multiline/TextView.chs: Added SetEditable, GetEditable,
	SetCursorVisible, GetCursorVisible which was a patch from Jonas
	Svensson <d99josve@dtek.chalmers.se>

2002-08-05  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/Makefile, mk/library.mk, mk/common.mk: Smaller fixed for the
	broken ghc-pkg of ghc version 5.04. ghci still doesn't work.

	* most .chs files in gtk/: Slight changes of documentation to make
	the documentation tools work (the latter are not yet in CVS).
	
2002-08-02  Jens Petersen <petersen@haskell.org>

	* gtk/windows/FileSel.chs: Re-export fileSelectionGetButtons.

	* gtk/general/Structs.hsc(fileSelectionGetButtons):  
	Like fileSelectionQueryButtons in gtk+hs.  Export it.

2002-07-23  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/treeList/TreeSelection.chs: Added the "changed"
	signal. Realized that there are many other modules without
	signals.

	* gtk/treeList/TreeView.chs(treeViewGetSelection),
	gtk/typehier/hierarchy.list: TreeSelection is only a GObject, so
	generate it with makeNewGObject.

2002-07-21  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/Makefile, mogul/Makefile, gtk/general/UTFCForeign.hs: Make
	the library compile with GHC 5.04 which introduces hierarchical
	modules.
	
	* gtk/general/General.chs(setLocale): remove

	* demo/unicode/Arabic.hs: remove setLocale
	
	* modul/WidgetTable.hs: Change the dependency on FiniteMap to a
	newly introduced impedance matcher module compat/LocalData.hs.
	
	* treeList/TreeSelection.chs, gdk/GdkKeys.chs, general/Stock.hsc,
	general/General.chs, signal/Signal.chs-boot2, gdk/Events.hsc,
	gdk/GdkEnums.hs, glib/GObject.hs, modul/WidgetTable.hs,
	mogule/TreeList.hs: Changed the dependency on IOExts to a newly
	introduced impedance matcher module compat/LocalData.hs.

	* treeList/StoreValue.hs: Changed the dependency on Exception to a
	newly introduced impedance matcher module compat/LocalControl.hs.

	* multiline/TextMark.chs, multiline/TextIter.chs,
	multiline/TextTag.chs, multiline/TextTagTable.chs,
	multiline/TextView.chs, gdk/GdkKeys.chs, gdk/Events.hsc,
	gtk/typehier/TypeGenerator.hs: Changed CForeign to UTFCForeign.

	* gtk/glib/GList.chs: remove CForeign import
	
	* configure.in: Corrected the search path when searching for a
	ghc-pkg which is not in the PATH. Remove all non-existant paths
	from GTK_CFLAGS and from GTK_LIBS.

	* mk/chsDepend.in: Removed the dependency .dep <- .chs to avoid
	that automatic generated .chs files are built when doing a "make
	distclean".

	* gtk/Makefile: Changed the dependency on "lang" to "base" for GHC
	versions with hierarchical module system.

	* window/FileSel.chs: Changed chi import to normal Haskell import.

	* mk/common.mk: "inplaceinit" is no longer prerequisite for "all"

	* mk/library.mk: "noinplace" is no longer prerequisite for
	"installcheck"

2002-07-19  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/windows/Window.chs: added deprecated windowSetPolicy method
	and found out that windowGetResizable and windowSetResizable were
	missing, so I added them as well.

	* mogul/TreeList.hs: fixed a bug in treeSkelAddAttribute

2002-07-18  Axel Simon <A.Simon@ukc.ac.uk>

	* gtk/treeList/CellRendererText.chs: changed the attribute types
	of foreground and background colors to Maybe String.

	* gtk/glib/GValue.chs: Changed the String member of the GValue
	union to Maybe String.

	* gtk/glib/GValueTypes.chs: Reflect the change in GValue when
	marshalling strings.

	* gtk/Makefile: TreeView needs TreeViewColumn.chi, so I added
	TreeViewColumn to the needed chi-files.

	* demo/treeList/ListTest.hs: Cell colors are now of type Maybe
	String. Remove the comments from the writeStore function.
	
2002-07-18  Jens Petersen <petersen@haskell.org>

	* gtk/gdk/GdkKeys.chs: Bind keyvalName and keyvalFromName.

	* gtk/windows/FileSel.chs: Binding based on file from gtk+hs.
	fileSelectionQueryButtons needs to be fixed for this to be useful.

	* mogul/TreeList.hs: Fix a couple of doc typos.

	* mogul/NewWidget.hs (newNamedScrolledWindow): Maybe take an 
	Adjustment.
	(newScrolledWindow): Ditto.

	* gtk/treeList/TreeViewColumn.chs (treeViewColumnNewWithAttributes): 
	Haskell implementation to avoid binding to original variad function.
	(treeViewColumnAddAttributes): New convenience function.
	(treeViewColumnSetAttributes): Haskell implementation to avoid
	binding to original variad function.
	(treeViewColumnClearAttributes): Add binding.

	* gtk/treeList/TreeView.chs (treeViewInsertColumnWithAttributes):
	Haskell implementation to avoid binding to original variad function.

	* gtk/scrolling/ScrolledWindow.chs (scrolledWindowNew): Make it
	maybe take Adjustments, passing a null ptr when Nothing is given.

	* gtk/general/Gtk.hs: Import and re-export GdkKeys and FileSel.

	* gtk/general/General.chs: Export timeoutAdd, timeoutRemove, idleAdd, 
	idleRemove and HandlerId.

	* gtk/entry/Entry.chs: Bind entryGetText.

	* gtk/Makefile: Add header vars for GdkKeys and FileSel.

2002-07-17 Jens Petersen <petersen@haskell.org>

	* Added .cvsignore files to most of the directories in the tree
	to give cleaner cvs updates from a build tree.

2002-07-08 Axel Simon <as49@ukc.ac.uk>

        * Reinstantiated the TreeList.hs module in mogul/. Made up a new
        concept to make the TreeView widget easier to use. To create a
	TreeStore or ListStore object, the user now has to create a
	skeleton that holds different attributes. The skeleton can then
	be converted into a ListStore or TreeStore. This takes care of
	the fact that columns cannot be added to the store objects on
	the fly.

2002-06-22 Axel Simon <as49@ukc.ac.uk>

	* Changed the configure script to more reliably find GNU versions
	of sed and grep. Improved the build system which now correctly
	manages dependencies between .chs file. Changed the calling
	convention of the functions such that the object is the first
	argument as in gtk+hs. Prepared for generating automatic
	documentation.

2002-04-16 Axel Simon <as49@ukc.ac.uk>

	* Created the "dist" goal to tar a source distribution. Introduced
	a VERSION file.

2002-04-14 Axel Simon <as49@ukc.ac.uk>

	* Incooperated c2hs version 0.10.12 into the source tree. Omitted
	  the lib/ directory. For the latter I had to change C2HSConfig.hs.in
	  to import "toBool" from MarshalUtils. The sources are otherwise
	  unchanged.

	* HookGenerator.hs: Added test for SPARC architecture. GHC is unable
	  to generate dynamic callbacks with more than 4 word worth of
	  arguments. By replacing all connectTo... functions which take more
	  than 3 arguments (real args and the GtkObject) with error stubs
	  this is only a temporary solution.
